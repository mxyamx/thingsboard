<!--

    Copyright © 2016-2026 The Thingsboard Authors

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->



<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > StringUtils</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.thingsboard.server.common.data</a>
</div>

<h1>Coverage Summary for Class: StringUtils (org.thingsboard.server.common.data)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">StringUtils</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/41)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/80)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/92)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/**
&nbsp; * Copyright © 2016-2026 The Thingsboard Authors
&nbsp; *
&nbsp; * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
&nbsp; * you may not use this file except in compliance with the License.
&nbsp; * You may obtain a copy of the License at
&nbsp; *
&nbsp; *     http://www.apache.org/licenses/LICENSE-2.0
&nbsp; *
&nbsp; * Unless required by applicable law or agreed to in writing, software
&nbsp; * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
&nbsp; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&nbsp; * See the License for the specific language governing permissions and
&nbsp; * limitations under the License.
&nbsp; */
&nbsp;package org.thingsboard.server.common.data;
&nbsp;
&nbsp;import com.google.common.base.Splitter;
&nbsp;import org.apache.commons.lang3.RandomStringUtils;
&nbsp;import org.apache.commons.lang3.Strings;
&nbsp;
&nbsp;import java.security.SecureRandom;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.Arrays;
&nbsp;import java.util.Base64;
&nbsp;import java.util.List;
&nbsp;import java.util.Objects;
&nbsp;import java.util.function.Function;
&nbsp;
&nbsp;import static org.apache.commons.lang3.StringUtils.repeat;
&nbsp;
<b class="nc">&nbsp;public class StringUtils {</b>
&nbsp;
&nbsp;    private static final int DEFAULT_TOKEN_LENGTH = 8;
&nbsp;
<b class="nc">&nbsp;    public static final SecureRandom RANDOM = new SecureRandom();</b>
&nbsp;
&nbsp;    public static final String EMPTY = &quot;&quot;;
&nbsp;
&nbsp;    public static final int INDEX_NOT_FOUND = -1;
&nbsp;
&nbsp;    public static boolean isEmpty(String source) {
<b class="nc">&nbsp;        return source == null || source.isEmpty();</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean isBlank(String source) {
<b class="nc">&nbsp;        return source == null || source.isEmpty() || source.trim().isEmpty();</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean isNotEmpty(String source) {
<b class="nc">&nbsp;        return source != null &amp;&amp; !source.isEmpty();</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean isNotBlank(String source) {
<b class="nc">&nbsp;        return source != null &amp;&amp; !source.isEmpty() &amp;&amp; !source.trim().isEmpty();</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String notBlankOrDefault(String src, String def) {
<b class="nc">&nbsp;        return isNotBlank(src) ? src : def;</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String removeStart(final String str, final String remove) {
<b class="nc">&nbsp;        if (isEmpty(str) || isEmpty(remove)) {</b>
<b class="nc">&nbsp;            return str;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (str.startsWith(remove)) {</b>
<b class="nc">&nbsp;            return str.substring(remove.length());</b>
&nbsp;        }
<b class="nc">&nbsp;        return str;</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String substringBefore(final String str, final String separator) {
<b class="nc">&nbsp;        if (isEmpty(str) || separator == null) {</b>
<b class="nc">&nbsp;            return str;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (separator.isEmpty()) {</b>
<b class="nc">&nbsp;            return EMPTY;</b>
&nbsp;        }
<b class="nc">&nbsp;        final int pos = str.indexOf(separator);</b>
<b class="nc">&nbsp;        if (pos == INDEX_NOT_FOUND) {</b>
<b class="nc">&nbsp;            return str;</b>
&nbsp;        }
<b class="nc">&nbsp;        return str.substring(0, pos);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String substringBetween(final String str, final String open, final String close) {
<b class="nc">&nbsp;        if (str == null || open == null || close == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
<b class="nc">&nbsp;        final int start = str.indexOf(open);</b>
<b class="nc">&nbsp;        if (start != INDEX_NOT_FOUND) {</b>
<b class="nc">&nbsp;            final int end = str.indexOf(close, start + open.length());</b>
<b class="nc">&nbsp;            if (end != INDEX_NOT_FOUND) {</b>
<b class="nc">&nbsp;                return str.substring(start + open.length(), end);</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        return null;</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String obfuscate(String input, int seenMargin, char obfuscationChar,
&nbsp;                                   int startIndexInclusive, int endIndexExclusive) {
&nbsp;
<b class="nc">&nbsp;        String part = input.substring(startIndexInclusive, endIndexExclusive);</b>
&nbsp;        String obfuscatedPart;
<b class="nc">&nbsp;        if (part.length() &lt;= seenMargin * 2) {</b>
<b class="nc">&nbsp;            obfuscatedPart = repeat(obfuscationChar, part.length());</b>
&nbsp;        } else {
<b class="nc">&nbsp;            obfuscatedPart = part.substring(0, seenMargin)</b>
<b class="nc">&nbsp;                    + repeat(obfuscationChar, part.length() - seenMargin * 2)</b>
<b class="nc">&nbsp;                    + part.substring(part.length() - seenMargin);</b>
&nbsp;        }
<b class="nc">&nbsp;        return input.substring(0, startIndexInclusive) + obfuscatedPart + input.substring(endIndexExclusive);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static Iterable&lt;String&gt; split(String value, int maxPartSize) {
<b class="nc">&nbsp;        return Splitter.fixedLength(maxPartSize).split(value);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean equalsIgnoreCase(String str1, String str2) {
<b class="nc">&nbsp;        return str1 == null ? str2 == null : str1.equalsIgnoreCase(str2);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String join(String[] keyArray, String lwm2mSeparatorPath) {
<b class="nc">&nbsp;        return org.apache.commons.lang3.StringUtils.join(keyArray, lwm2mSeparatorPath);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String trimToNull(String toString) {
<b class="nc">&nbsp;        return org.apache.commons.lang3.StringUtils.trimToNull(toString);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean isNoneEmpty(String str) {
<b class="nc">&nbsp;        return org.apache.commons.lang3.StringUtils.isNoneEmpty(str);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean endsWith(String str, String suffix) {
<b class="nc">&nbsp;        return Strings.CS.endsWith(str, suffix);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean hasLength(String str) {
<b class="nc">&nbsp;        return org.springframework.util.StringUtils.hasLength(str);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean isNoneBlank(String... str) {
<b class="nc">&nbsp;        return org.apache.commons.lang3.StringUtils.isNoneBlank(str);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean hasText(String str) {
<b class="nc">&nbsp;        return org.springframework.util.StringUtils.hasText(str);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String defaultString(String s, String defaultValue) {
<b class="nc">&nbsp;        return Objects.toString(s, defaultValue);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean isNumeric(String str) {
<b class="nc">&nbsp;        return org.apache.commons.lang3.StringUtils.isNumeric(str);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean equals(String str1, String str2) {
<b class="nc">&nbsp;        return Strings.CS.equals(str1, str2);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean equalsAny(String string, String... otherStrings) {
<b class="nc">&nbsp;        return equalsAny(string, Arrays.asList(otherStrings));</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean equalsAny(String string, List&lt;String&gt; otherStrings) {
<b class="nc">&nbsp;        for (String otherString : otherStrings) {</b>
<b class="nc">&nbsp;            if (equals(string, otherString)) {</b>
<b class="nc">&nbsp;                return true;</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean equalsAnyIgnoreCase(String string, String... otherStrings) {
<b class="nc">&nbsp;        for (String otherString : otherStrings) {</b>
<b class="nc">&nbsp;            if (equalsIgnoreCase(string, otherString)) {</b>
<b class="nc">&nbsp;                return true;</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String substringBeforeLast(String str, String separator) {
<b class="nc">&nbsp;        return org.apache.commons.lang3.StringUtils.substringBeforeLast(str, separator);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String substringAfterLast(String str, String sep) {
<b class="nc">&nbsp;        return org.apache.commons.lang3.StringUtils.substringAfterLast(str, sep);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean containedByAny(String searchString, String... strings) {
<b class="nc">&nbsp;        if (searchString == null) return false;</b>
<b class="nc">&nbsp;        for (String string : strings) {</b>
<b class="nc">&nbsp;            if (string != null &amp;&amp; string.contains(searchString)) {</b>
<b class="nc">&nbsp;                return true;</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean contains(final CharSequence seq, final CharSequence searchSeq) {
<b class="nc">&nbsp;        return Strings.CS.contains(seq, searchSeq);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Use this to prevent org.postgresql.util.PSQLException: ERROR: invalid byte sequence for encoding &quot;UTF8&quot;: 0x00
&nbsp;     **/
&nbsp;    public static boolean contains0x00(final String s) {
<b class="nc">&nbsp;        return s != null &amp;&amp; s.contains(&quot;\u0000&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String randomNumeric(int length) {
<b class="nc">&nbsp;        return RandomStringUtils.secure().nextNumeric(length);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String random(int length) {
<b class="nc">&nbsp;        return RandomStringUtils.secure().next(length);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String random(int length, String chars) {
<b class="nc">&nbsp;        return RandomStringUtils.secure().next(length, chars);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String randomAlphanumeric(int count) {
<b class="nc">&nbsp;        return RandomStringUtils.secure().nextAlphanumeric(count);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String randomAlphabetic(int count) {
<b class="nc">&nbsp;        return RandomStringUtils.secure().nextAlphabetic(count);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String generateSafeToken(int length) {
<b class="nc">&nbsp;        byte[] bytes = new byte[length];</b>
<b class="nc">&nbsp;        RANDOM.nextBytes(bytes);</b>
<b class="nc">&nbsp;        Base64.Encoder encoder = Base64.getUrlEncoder().withoutPadding();</b>
<b class="nc">&nbsp;        return encoder.encodeToString(bytes);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String generateSafeToken() {
<b class="nc">&nbsp;        return generateSafeToken(DEFAULT_TOKEN_LENGTH);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String truncate(String string, int maxLength) {
<b class="nc">&nbsp;        return truncate(string, maxLength, n -&gt; &quot;...[truncated &quot; + n + &quot; symbols]&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String truncate(String string, int maxLength, Function&lt;Integer, String&gt; truncationMarkerFunc) {
<b class="nc">&nbsp;        if (string == null || maxLength &lt;= 0 || string.length() &lt;= maxLength) {</b>
<b class="nc">&nbsp;            return string;</b>
&nbsp;        }
<b class="nc">&nbsp;        int truncatedSymbols = string.length() - maxLength;</b>
<b class="nc">&nbsp;        return string.substring(0, maxLength) + truncationMarkerFunc.apply(truncatedSymbols);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static List&lt;String&gt; splitByCommaWithoutQuotes(String value) {
<b class="nc">&nbsp;        List&lt;String&gt; splitValues = List.of(value.trim().split(&quot;\\s*,\\s*&quot;));</b>
<b class="nc">&nbsp;        List&lt;String&gt; result = new ArrayList&lt;&gt;();</b>
<b class="nc">&nbsp;        char lastWayInputValue = &#39;#&#39;;</b>
<b class="nc">&nbsp;        for (String str : splitValues) {</b>
<b class="nc">&nbsp;            char startWith = str.charAt(0);</b>
<b class="nc">&nbsp;            char endWith = str.charAt(str.length() - 1);</b>
&nbsp;
&nbsp;            // if first value is not quote, so we return values after split
<b class="nc">&nbsp;            if (startWith != &#39;\&#39;&#39; &amp;&amp; startWith != &#39;&quot;&#39;) return splitValues;</b>
&nbsp;
&nbsp;            // if value is not in quote, so we return values after split
<b class="nc">&nbsp;            if (startWith != endWith) return splitValues;</b>
&nbsp;
&nbsp;            // if different way values, so don&#39;t replace quote and return values after split
<b class="nc">&nbsp;            if (lastWayInputValue != &#39;#&#39; &amp;&amp; startWith != lastWayInputValue) return splitValues;</b>
&nbsp;
<b class="nc">&nbsp;            result.add(str.substring(1, str.length() - 1));</b>
<b class="nc">&nbsp;            lastWayInputValue = startWith;</b>
&nbsp;        }
<b class="nc">&nbsp;        return result;</b>
&nbsp;    }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2026-02-07 20:03</div>
</div>
</body>
</html>
