<!--

    Copyright © 2016-2026 The Thingsboard Authors

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->



<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > DefaultTenantProfileConfiguration</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.thingsboard.server.common.data.tenant.profile</a>
</div>

<h1>Coverage Summary for Class: DefaultTenantProfileConfiguration (org.thingsboard.server.common.data.tenant.profile)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">DefaultTenantProfileConfiguration</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/27)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/29)
  </span>
</td>
</tr>
  <tr>
    <td class="name">DefaultTenantProfileConfiguration$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/10)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/27)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/31)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/**
&nbsp; * Copyright © 2016-2026 The Thingsboard Authors
&nbsp; *
&nbsp; * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
&nbsp; * you may not use this file except in compliance with the License.
&nbsp; * You may obtain a copy of the License at
&nbsp; *
&nbsp; *     http://www.apache.org/licenses/LICENSE-2.0
&nbsp; *
&nbsp; * Unless required by applicable law or agreed to in writing, software
&nbsp; * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
&nbsp; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&nbsp; * See the License for the specific language governing permissions and
&nbsp; * limitations under the License.
&nbsp; */
&nbsp;package org.thingsboard.server.common.data.tenant.profile;
&nbsp;
&nbsp;import io.swagger.v3.oas.annotations.media.Schema;
&nbsp;import jakarta.validation.constraints.Positive;
&nbsp;import lombok.AllArgsConstructor;
&nbsp;import lombok.Builder;
&nbsp;import lombok.Data;
&nbsp;import lombok.NoArgsConstructor;
&nbsp;import org.thingsboard.server.common.data.ApiUsageRecordKey;
&nbsp;import org.thingsboard.server.common.data.EntityType;
&nbsp;import org.thingsboard.server.common.data.TenantProfileType;
&nbsp;import org.thingsboard.server.common.data.validation.RateLimit;
&nbsp;
&nbsp;import java.io.Serial;
&nbsp;
&nbsp;@Schema
&nbsp;@AllArgsConstructor
&nbsp;@NoArgsConstructor
&nbsp;@Builder
&nbsp;@Data
&nbsp;public class DefaultTenantProfileConfiguration implements TenantProfileConfiguration {
&nbsp;
&nbsp;    @Serial
&nbsp;    private static final long serialVersionUID = -7134932690332578595L;
&nbsp;
&nbsp;    private long maxDevices;
&nbsp;    private long maxAssets;
&nbsp;    private long maxCustomers;
&nbsp;    private long maxUsers;
&nbsp;    private long maxDashboards;
&nbsp;    private long maxRuleChains;
&nbsp;    private long maxEdges;
&nbsp;    private long maxResourcesInBytes;
&nbsp;    private long maxOtaPackagesInBytes;
&nbsp;    private long maxResourceSize;
&nbsp;
&nbsp;    @Schema(example = &quot;1000:1,20000:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Transport tenant messages&quot;)
&nbsp;    private String transportTenantMsgRateLimit;
&nbsp;    @Schema(example = &quot;1000:1,20000:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Transport tenant telemetry messages&quot;)
&nbsp;    private String transportTenantTelemetryMsgRateLimit;
&nbsp;    @Schema(example = &quot;1000:1,20000:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Transport tenant telemetry data points&quot;)
&nbsp;    private String transportTenantTelemetryDataPointsRateLimit;
&nbsp;    @Schema(example = &quot;20:1,600:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Transport device messages&quot;)
&nbsp;    private String transportDeviceMsgRateLimit;
&nbsp;    @Schema(example = &quot;20:1,600:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Transport device telemetry messages&quot;)
&nbsp;    private String transportDeviceTelemetryMsgRateLimit;
&nbsp;    @Schema(example = &quot;20:1,600:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Transport device telemetry data points&quot;)
&nbsp;    private String transportDeviceTelemetryDataPointsRateLimit;
&nbsp;    @Schema(example = &quot;20:1,600:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Transport gateway messages&quot;)
&nbsp;    private String transportGatewayMsgRateLimit;
&nbsp;    @Schema(example = &quot;20:1,600:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Transport gateway telemetry messages&quot;)
&nbsp;    private String transportGatewayTelemetryMsgRateLimit;
&nbsp;    @Schema(example = &quot;20:1,600:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Transport gateway telemetry data points&quot;)
&nbsp;    private String transportGatewayTelemetryDataPointsRateLimit;
&nbsp;    @Schema(example = &quot;20:1,600:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Transport gateway device messages&quot;)
&nbsp;    private String transportGatewayDeviceMsgRateLimit;
&nbsp;    @Schema(example = &quot;20:1,600:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Transport gateway device telemetry messages&quot;)
&nbsp;    private String transportGatewayDeviceTelemetryMsgRateLimit;
&nbsp;    @Schema(example = &quot;20:1,600:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Transport gateway device telemetry data points&quot;)
&nbsp;    private String transportGatewayDeviceTelemetryDataPointsRateLimit;
&nbsp;
&nbsp;    @Schema(example = &quot;20:1,600:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Entity version creation&quot;)
&nbsp;    private String tenantEntityExportRateLimit;
&nbsp;    @Schema(example = &quot;20:1,600:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Entity version load&quot;)
&nbsp;    private String tenantEntityImportRateLimit;
&nbsp;    @Schema(example = &quot;20:1,600:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Notification requests&quot;)
&nbsp;    private String tenantNotificationRequestsRateLimit;
&nbsp;    @Schema(example = &quot;20:1,600:60&quot;)
&nbsp;    @RateLimit(fieldName = &quot;Notification requests per notification rule&quot;)
&nbsp;    private String tenantNotificationRequestsPerRuleRateLimit;
&nbsp;
&nbsp;    @Schema(example = &quot;10000000&quot;)
&nbsp;    private long maxTransportMessages;
&nbsp;    @Schema(example = &quot;10000000&quot;)
&nbsp;    private long maxTransportDataPoints;
&nbsp;    @Schema(example = &quot;4000000&quot;)
&nbsp;    private long maxREExecutions;
&nbsp;    @Schema(example = &quot;5000000&quot;)
&nbsp;    private long maxJSExecutions;
&nbsp;    @Schema(example = &quot;5000000&quot;)
&nbsp;    private long maxTbelExecutions;
&nbsp;    @Schema(example = &quot;0&quot;)
&nbsp;    private long maxDPStorageDays;
&nbsp;    @Schema(example = &quot;50&quot;)
&nbsp;    private int maxRuleNodeExecutionsPerMessage;
&nbsp;    @Schema(example = &quot;15&quot;)
&nbsp;    private int maxDebugModeDurationMinutes;
&nbsp;    @Schema(example = &quot;0&quot;)
&nbsp;    private long maxEmails;
&nbsp;    @Schema(example = &quot;true&quot;)
&nbsp;    private Boolean smsEnabled;
&nbsp;    @Schema(example = &quot;0&quot;)
&nbsp;    private long maxSms;
&nbsp;    @Schema(example = &quot;1000&quot;)
&nbsp;    private long maxCreatedAlarms;
&nbsp;
&nbsp;    @RateLimit(fieldName = &quot;REST requests for tenant&quot;)
&nbsp;    private String tenantServerRestLimitsConfiguration;
&nbsp;    @RateLimit(fieldName = &quot;REST requests for customer&quot;)
&nbsp;    private String customerServerRestLimitsConfiguration;
&nbsp;
&nbsp;    private int maxWsSessionsPerTenant;
&nbsp;    private int maxWsSessionsPerCustomer;
&nbsp;    private int maxWsSessionsPerRegularUser;
&nbsp;    private int maxWsSessionsPerPublicUser;
&nbsp;    private int wsMsgQueueLimitPerSession;
&nbsp;    private long maxWsSubscriptionsPerTenant;
&nbsp;    private long maxWsSubscriptionsPerCustomer;
&nbsp;    private long maxWsSubscriptionsPerRegularUser;
&nbsp;    private long maxWsSubscriptionsPerPublicUser;
&nbsp;    @RateLimit(fieldName = &quot;WS updates per session&quot;)
&nbsp;    private String wsUpdatesPerSessionRateLimit;
&nbsp;
&nbsp;    @RateLimit(fieldName = &quot;Rest API and WS telemetry Cassandra read queries&quot;)
&nbsp;    private String cassandraReadQueryTenantCoreRateLimits;
&nbsp;    @RateLimit(fieldName = &quot;Rest API Cassandra write queries&quot;)
&nbsp;    private String cassandraWriteQueryTenantCoreRateLimits;
&nbsp;
&nbsp;    @RateLimit(fieldName = &quot;Rule Engine telemetry Cassandra read queries&quot;)
&nbsp;    private String cassandraReadQueryTenantRuleEngineRateLimits;
&nbsp;    @RateLimit(fieldName = &quot;Rule Engine telemetry Cassandra write queries&quot;)
&nbsp;    private String cassandraWriteQueryTenantRuleEngineRateLimits;
&nbsp;
&nbsp;    @RateLimit(fieldName = &quot;Edge events&quot;)
&nbsp;    private String edgeEventRateLimits;
&nbsp;    @RateLimit(fieldName = &quot;Edge events per edge&quot;)
&nbsp;    private String edgeEventRateLimitsPerEdge;
&nbsp;    @RateLimit(fieldName = &quot;Edge uplink messages&quot;)
&nbsp;    private String edgeUplinkMessagesRateLimits;
&nbsp;    @RateLimit(fieldName = &quot;Edge uplink messages per edge&quot;)
&nbsp;    private String edgeUplinkMessagesRateLimitsPerEdge;
&nbsp;
&nbsp;    private int defaultStorageTtlDays;
&nbsp;    private int alarmsTtlDays;
&nbsp;    private int rpcTtlDays;
&nbsp;    private int queueStatsTtlDays;
&nbsp;    private int ruleEngineExceptionsTtlDays;
&nbsp;
&nbsp;    private double warnThreshold;
&nbsp;
&nbsp;    @Schema(example = &quot;5&quot;)
&nbsp;    private long maxCalculatedFieldsPerEntity = 5;
&nbsp;    @Schema(example = &quot;10&quot;)
&nbsp;    private long maxArgumentsPerCF = 10;
&nbsp;    @Schema(example = &quot;10&quot;)
&nbsp;    private int minAllowedScheduledUpdateIntervalInSecForCF = 10;
&nbsp;    @Builder.Default
&nbsp;    @Schema(example = &quot;2&quot;)
&nbsp;    @Positive
&nbsp;    private int maxRelationLevelPerCfArgument = 2;
&nbsp;    @Builder.Default
&nbsp;    @Schema(example = &quot;100&quot;)
&nbsp;    @Positive
&nbsp;    private int maxRelatedEntitiesToReturnPerCfArgument = 100;
&nbsp;    @Builder.Default
&nbsp;    @Positive
&nbsp;    @Schema(example = &quot;1000&quot;)
&nbsp;    private long maxDataPointsPerRollingArg = 1000;
&nbsp;    @Schema(example = &quot;32&quot;)
&nbsp;    private long maxStateSizeInKBytes = 32;
&nbsp;    @Schema(example = &quot;2&quot;)
&nbsp;    private long maxSingleValueArgumentSizeInKBytes = 2;
&nbsp;    @Schema(example = &quot;10&quot;)
&nbsp;    private long minAllowedDeduplicationIntervalInSecForCF = 10;
&nbsp;    @Schema(example = &quot;60&quot;)
&nbsp;    private long minAllowedAggregationIntervalInSecForCF = 60;
&nbsp;    @Builder.Default
&nbsp;    @Schema(example = &quot;300&quot;)
&nbsp;    private long intermediateAggregationIntervalInSecForCF = 300;
&nbsp;    @Builder.Default
&nbsp;    @Schema(example = &quot;60&quot;)
&nbsp;    private long cfReevaluationCheckInterval = 60;
&nbsp;    @Builder.Default
&nbsp;    @Schema(example = &quot;60&quot;)
&nbsp;    private long alarmsReevaluationInterval = 60;
&nbsp;
&nbsp;    @Override
&nbsp;    public long getProfileThreshold(ApiUsageRecordKey key) {
<b class="nc">&nbsp;        return switch (key) {</b>
<b class="nc">&nbsp;            case TRANSPORT_MSG_COUNT -&gt; maxTransportMessages;</b>
<b class="nc">&nbsp;            case TRANSPORT_DP_COUNT -&gt; maxTransportDataPoints;</b>
<b class="nc">&nbsp;            case JS_EXEC_COUNT -&gt; maxJSExecutions;</b>
<b class="nc">&nbsp;            case TBEL_EXEC_COUNT -&gt; maxTbelExecutions;</b>
<b class="nc">&nbsp;            case RE_EXEC_COUNT -&gt; maxREExecutions;</b>
<b class="nc">&nbsp;            case STORAGE_DP_COUNT -&gt; maxDPStorageDays;</b>
<b class="nc">&nbsp;            case EMAIL_EXEC_COUNT -&gt; maxEmails;</b>
<b class="nc">&nbsp;            case SMS_EXEC_COUNT -&gt; maxSms;</b>
<b class="nc">&nbsp;            case CREATED_ALARMS_COUNT -&gt; maxCreatedAlarms;</b>
<b class="nc">&nbsp;            default -&gt; 0L;</b>
&nbsp;        };
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean getProfileFeatureEnabled(ApiUsageRecordKey key) {
<b class="nc">&nbsp;        switch (key) {</b>
&nbsp;            case SMS_EXEC_COUNT:
<b class="nc">&nbsp;                return smsEnabled == null || Boolean.TRUE.equals(smsEnabled);</b>
&nbsp;            default:
<b class="nc">&nbsp;                return true;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public long getWarnThreshold(ApiUsageRecordKey key) {
<b class="nc">&nbsp;        return (long) (getProfileThreshold(key) * (warnThreshold &gt; 0.0 ? warnThreshold : 0.8));</b>
&nbsp;    }
&nbsp;
&nbsp;    public long getEntitiesLimit(EntityType entityType) {
<b class="nc">&nbsp;        return switch (entityType) {</b>
<b class="nc">&nbsp;            case DEVICE -&gt; maxDevices;</b>
<b class="nc">&nbsp;            case ASSET -&gt; maxAssets;</b>
<b class="nc">&nbsp;            case CUSTOMER -&gt; maxCustomers;</b>
<b class="nc">&nbsp;            case USER -&gt; maxUsers;</b>
<b class="nc">&nbsp;            case DASHBOARD -&gt; maxDashboards;</b>
<b class="nc">&nbsp;            case RULE_CHAIN -&gt; maxRuleChains;</b>
<b class="nc">&nbsp;            case EDGE -&gt; maxEdges;</b>
<b class="nc">&nbsp;            default -&gt; 0;</b>
&nbsp;        };
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public TenantProfileType getType() {
<b class="nc">&nbsp;        return TenantProfileType.DEFAULT;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public int getMaxRuleNodeExecsPerMessage() {
<b class="nc">&nbsp;        return maxRuleNodeExecutionsPerMessage;</b>
&nbsp;    }
&nbsp;
&nbsp;    public long getCfReevaluationCheckInterval() {
<b class="nc">&nbsp;        return cfReevaluationCheckInterval &lt;= 0 ? 60 : cfReevaluationCheckInterval;</b>
&nbsp;    }
&nbsp;
&nbsp;    public long getAlarmsReevaluationInterval() {
<b class="nc">&nbsp;        return alarmsReevaluationInterval &lt;= 0 ? 60 : alarmsReevaluationInterval;</b>
&nbsp;    }
&nbsp;
&nbsp;    public long getIntermediateAggregationIntervalInSecForCF() {
<b class="nc">&nbsp;        return intermediateAggregationIntervalInSecForCF &lt;= 0 ? 300 : intermediateAggregationIntervalInSecForCF;</b>
&nbsp;    }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2026-02-07 20:03</div>
</div>
</body>
</html>
