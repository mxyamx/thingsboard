<!--

    Copyright © 2016-2026 The Thingsboard Authors

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->



<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > RestClient</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.thingsboard.rest.client</a>
</div>

<h1>Coverage Summary for Class: RestClient (org.thingsboard.rest.client)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">RestClient</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/452)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/334)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1669)
  </span>
</td>
</tr>
  <tr>
    <td class="name">RestClient$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$10</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$100</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$101</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$102</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$103</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$104</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$105</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$106</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$107</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$108</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$109</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$11</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$110</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$111</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$112</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$113</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$114</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$115</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$116</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$117</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$118</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$119</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$12</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$120</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$121</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$122</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$123</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$124</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$125</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$126</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$127</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$128</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$129</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$13</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$130</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$131</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$132</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$133</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$134</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$135</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$136</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$137</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$138</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$139</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$14</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$15</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$16</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$17</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$18</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$19</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$20</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$21</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$22</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$23</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$24</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$25</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$26</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$27</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$28</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$29</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$30</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$31</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$32</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$33</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$34</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$35</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$36</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$37</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$38</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$39</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$4</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$40</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$41</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$42</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$43</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$44</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$45</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$46</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$47</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$48</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$49</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$5</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$50</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$51</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$52</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$53</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$54</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$55</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$56</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$57</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$58</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$59</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$6</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$60</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$61</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$62</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$63</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$64</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$65</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$66</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$67</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$68</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$69</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$7</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$70</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$71</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$72</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$73</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$74</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$75</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$76</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$77</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$78</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$79</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$8</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$80</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$81</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$82</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$83</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$84</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$85</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$86</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$87</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$88</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$89</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$9</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$90</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$91</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$92</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$93</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$94</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$95</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$96</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$97</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$98</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$99</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">RestClient$AuthType</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/592)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/334)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1809)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/**
&nbsp; * Copyright © 2016-2026 The Thingsboard Authors
&nbsp; *
&nbsp; * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
&nbsp; * you may not use this file except in compliance with the License.
&nbsp; * You may obtain a copy of the License at
&nbsp; *
&nbsp; *     http://www.apache.org/licenses/LICENSE-2.0
&nbsp; *
&nbsp; * Unless required by applicable law or agreed to in writing, software
&nbsp; * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
&nbsp; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&nbsp; * See the License for the specific language governing permissions and
&nbsp; * limitations under the License.
&nbsp; */
&nbsp;package org.thingsboard.rest.client;
&nbsp;
&nbsp;import com.auth0.jwt.JWT;
&nbsp;import com.fasterxml.jackson.databind.JsonNode;
&nbsp;import com.fasterxml.jackson.databind.node.ObjectNode;
&nbsp;import com.google.common.base.Strings;
&nbsp;import lombok.Getter;
&nbsp;import lombok.SneakyThrows;
&nbsp;import org.apache.commons.io.IOUtils;
&nbsp;import org.apache.commons.lang3.concurrent.LazyInitializer;
&nbsp;import org.apache.hc.core5.net.URIBuilder;
&nbsp;import org.springframework.core.ParameterizedTypeReference;
&nbsp;import org.springframework.core.io.ByteArrayResource;
&nbsp;import org.springframework.core.io.Resource;
&nbsp;import org.springframework.http.HttpEntity;
&nbsp;import org.springframework.http.HttpHeaders;
&nbsp;import org.springframework.http.HttpMethod;
&nbsp;import org.springframework.http.HttpRequest;
&nbsp;import org.springframework.http.HttpStatus;
&nbsp;import org.springframework.http.MediaType;
&nbsp;import org.springframework.http.ResponseEntity;
&nbsp;import org.springframework.http.client.support.HttpRequestWrapper;
&nbsp;import org.springframework.util.CollectionUtils;
&nbsp;import org.springframework.util.LinkedMultiValueMap;
&nbsp;import org.springframework.util.MultiValueMap;
&nbsp;import org.springframework.web.client.HttpClientErrorException;
&nbsp;import org.springframework.web.client.RestTemplate;
&nbsp;import org.springframework.web.util.UriComponentsBuilder;
&nbsp;import org.thingsboard.common.util.JacksonUtil;
&nbsp;import org.thingsboard.common.util.ThingsBoardExecutors;
&nbsp;import org.thingsboard.rest.client.utils.RestJsonConverter;
&nbsp;import org.thingsboard.server.common.data.AdminSettings;
&nbsp;import org.thingsboard.server.common.data.AttributeScope;
&nbsp;import org.thingsboard.server.common.data.ClaimRequest;
&nbsp;import org.thingsboard.server.common.data.Customer;
&nbsp;import org.thingsboard.server.common.data.Dashboard;
&nbsp;import org.thingsboard.server.common.data.DashboardInfo;
&nbsp;import org.thingsboard.server.common.data.Device;
&nbsp;import org.thingsboard.server.common.data.DeviceInfo;
&nbsp;import org.thingsboard.server.common.data.DeviceProfile;
&nbsp;import org.thingsboard.server.common.data.DeviceProfileInfo;
&nbsp;import org.thingsboard.server.common.data.DeviceTransportType;
&nbsp;import org.thingsboard.server.common.data.EntityInfo;
&nbsp;import org.thingsboard.server.common.data.EntitySubtype;
&nbsp;import org.thingsboard.server.common.data.EntityType;
&nbsp;import org.thingsboard.server.common.data.EntityView;
&nbsp;import org.thingsboard.server.common.data.EntityViewInfo;
&nbsp;import org.thingsboard.server.common.data.EventInfo;
&nbsp;import org.thingsboard.server.common.data.OtaPackage;
&nbsp;import org.thingsboard.server.common.data.OtaPackageInfo;
&nbsp;import org.thingsboard.server.common.data.ResourceExportData;
&nbsp;import org.thingsboard.server.common.data.ResourceSubType;
&nbsp;import org.thingsboard.server.common.data.SaveDeviceWithCredentialsRequest;
&nbsp;import org.thingsboard.server.common.data.StringUtils;
&nbsp;import org.thingsboard.server.common.data.SystemInfo;
&nbsp;import org.thingsboard.server.common.data.TbImageDeleteResult;
&nbsp;import org.thingsboard.server.common.data.TbResource;
&nbsp;import org.thingsboard.server.common.data.TbResourceInfo;
&nbsp;import org.thingsboard.server.common.data.Tenant;
&nbsp;import org.thingsboard.server.common.data.TenantInfo;
&nbsp;import org.thingsboard.server.common.data.TenantProfile;
&nbsp;import org.thingsboard.server.common.data.UpdateMessage;
&nbsp;import org.thingsboard.server.common.data.UsageInfo;
&nbsp;import org.thingsboard.server.common.data.User;
&nbsp;import org.thingsboard.server.common.data.UserEmailInfo;
&nbsp;import org.thingsboard.server.common.data.ai.AiModel;
&nbsp;import org.thingsboard.server.common.data.alarm.Alarm;
&nbsp;import org.thingsboard.server.common.data.alarm.AlarmComment;
&nbsp;import org.thingsboard.server.common.data.alarm.AlarmCommentInfo;
&nbsp;import org.thingsboard.server.common.data.alarm.AlarmInfo;
&nbsp;import org.thingsboard.server.common.data.alarm.AlarmSearchStatus;
&nbsp;import org.thingsboard.server.common.data.alarm.AlarmSeverity;
&nbsp;import org.thingsboard.server.common.data.alarm.AlarmStatus;
&nbsp;import org.thingsboard.server.common.data.asset.Asset;
&nbsp;import org.thingsboard.server.common.data.asset.AssetInfo;
&nbsp;import org.thingsboard.server.common.data.asset.AssetProfile;
&nbsp;import org.thingsboard.server.common.data.asset.AssetProfileInfo;
&nbsp;import org.thingsboard.server.common.data.asset.AssetSearchQuery;
&nbsp;import org.thingsboard.server.common.data.audit.ActionType;
&nbsp;import org.thingsboard.server.common.data.audit.AuditLog;
&nbsp;import org.thingsboard.server.common.data.cf.CalculatedField;
&nbsp;import org.thingsboard.server.common.data.device.DeviceSearchQuery;
&nbsp;import org.thingsboard.server.common.data.domain.Domain;
&nbsp;import org.thingsboard.server.common.data.domain.DomainInfo;
&nbsp;import org.thingsboard.server.common.data.edge.Edge;
&nbsp;import org.thingsboard.server.common.data.edge.EdgeEvent;
&nbsp;import org.thingsboard.server.common.data.edge.EdgeInfo;
&nbsp;import org.thingsboard.server.common.data.edge.EdgeInstructions;
&nbsp;import org.thingsboard.server.common.data.edge.EdgeSearchQuery;
&nbsp;import org.thingsboard.server.common.data.entityview.EntityViewSearchQuery;
&nbsp;import org.thingsboard.server.common.data.id.AiModelId;
&nbsp;import org.thingsboard.server.common.data.id.AlarmCommentId;
&nbsp;import org.thingsboard.server.common.data.id.AlarmId;
&nbsp;import org.thingsboard.server.common.data.id.ApiKeyId;
&nbsp;import org.thingsboard.server.common.data.id.AssetId;
&nbsp;import org.thingsboard.server.common.data.id.AssetProfileId;
&nbsp;import org.thingsboard.server.common.data.id.CalculatedFieldId;
&nbsp;import org.thingsboard.server.common.data.id.CustomerId;
&nbsp;import org.thingsboard.server.common.data.id.DashboardId;
&nbsp;import org.thingsboard.server.common.data.id.DeviceId;
&nbsp;import org.thingsboard.server.common.data.id.DeviceProfileId;
&nbsp;import org.thingsboard.server.common.data.id.DomainId;
&nbsp;import org.thingsboard.server.common.data.id.EdgeId;
&nbsp;import org.thingsboard.server.common.data.id.EntityId;
&nbsp;import org.thingsboard.server.common.data.id.EntityViewId;
&nbsp;import org.thingsboard.server.common.data.id.MobileAppBundleId;
&nbsp;import org.thingsboard.server.common.data.id.MobileAppId;
&nbsp;import org.thingsboard.server.common.data.id.NotificationId;
&nbsp;import org.thingsboard.server.common.data.id.NotificationRequestId;
&nbsp;import org.thingsboard.server.common.data.id.OAuth2ClientId;
&nbsp;import org.thingsboard.server.common.data.id.OAuth2ClientRegistrationTemplateId;
&nbsp;import org.thingsboard.server.common.data.id.OtaPackageId;
&nbsp;import org.thingsboard.server.common.data.id.QueueId;
&nbsp;import org.thingsboard.server.common.data.id.RuleChainId;
&nbsp;import org.thingsboard.server.common.data.id.RuleNodeId;
&nbsp;import org.thingsboard.server.common.data.id.TbResourceId;
&nbsp;import org.thingsboard.server.common.data.id.TenantId;
&nbsp;import org.thingsboard.server.common.data.id.TenantProfileId;
&nbsp;import org.thingsboard.server.common.data.id.UserId;
&nbsp;import org.thingsboard.server.common.data.id.WidgetTypeId;
&nbsp;import org.thingsboard.server.common.data.id.WidgetsBundleId;
&nbsp;import org.thingsboard.server.common.data.kv.Aggregation;
&nbsp;import org.thingsboard.server.common.data.kv.AttributeKvEntry;
&nbsp;import org.thingsboard.server.common.data.kv.IntervalType;
&nbsp;import org.thingsboard.server.common.data.kv.TsKvEntry;
&nbsp;import org.thingsboard.server.common.data.mobile.app.MobileApp;
&nbsp;import org.thingsboard.server.common.data.mobile.bundle.MobileAppBundle;
&nbsp;import org.thingsboard.server.common.data.mobile.bundle.MobileAppBundleInfo;
&nbsp;import org.thingsboard.server.common.data.notification.Notification;
&nbsp;import org.thingsboard.server.common.data.notification.NotificationDeliveryMethod;
&nbsp;import org.thingsboard.server.common.data.notification.NotificationRequest;
&nbsp;import org.thingsboard.server.common.data.notification.NotificationRequestInfo;
&nbsp;import org.thingsboard.server.common.data.notification.NotificationRequestPreview;
&nbsp;import org.thingsboard.server.common.data.notification.settings.NotificationSettings;
&nbsp;import org.thingsboard.server.common.data.notification.settings.UserNotificationSettings;
&nbsp;import org.thingsboard.server.common.data.notification.targets.NotificationTarget;
&nbsp;import org.thingsboard.server.common.data.notification.template.NotificationTemplate;
&nbsp;import org.thingsboard.server.common.data.oauth2.OAuth2Client;
&nbsp;import org.thingsboard.server.common.data.oauth2.OAuth2ClientInfo;
&nbsp;import org.thingsboard.server.common.data.oauth2.OAuth2ClientLoginInfo;
&nbsp;import org.thingsboard.server.common.data.oauth2.OAuth2ClientRegistrationTemplate;
&nbsp;import org.thingsboard.server.common.data.oauth2.PlatformType;
&nbsp;import org.thingsboard.server.common.data.ota.ChecksumAlgorithm;
&nbsp;import org.thingsboard.server.common.data.ota.OtaPackageType;
&nbsp;import org.thingsboard.server.common.data.page.PageData;
&nbsp;import org.thingsboard.server.common.data.page.PageLink;
&nbsp;import org.thingsboard.server.common.data.page.SortOrder;
&nbsp;import org.thingsboard.server.common.data.page.TimePageLink;
&nbsp;import org.thingsboard.server.common.data.pat.ApiKey;
&nbsp;import org.thingsboard.server.common.data.pat.ApiKeyInfo;
&nbsp;import org.thingsboard.server.common.data.plugin.ComponentDescriptor;
&nbsp;import org.thingsboard.server.common.data.plugin.ComponentType;
&nbsp;import org.thingsboard.server.common.data.query.AlarmCountQuery;
&nbsp;import org.thingsboard.server.common.data.query.AlarmData;
&nbsp;import org.thingsboard.server.common.data.query.AlarmDataQuery;
&nbsp;import org.thingsboard.server.common.data.query.AvailableEntityKeys;
&nbsp;import org.thingsboard.server.common.data.query.EntityCountQuery;
&nbsp;import org.thingsboard.server.common.data.query.EntityData;
&nbsp;import org.thingsboard.server.common.data.query.EntityDataQuery;
&nbsp;import org.thingsboard.server.common.data.queue.Queue;
&nbsp;import org.thingsboard.server.common.data.relation.EntityRelation;
&nbsp;import org.thingsboard.server.common.data.relation.EntityRelationInfo;
&nbsp;import org.thingsboard.server.common.data.relation.EntityRelationsQuery;
&nbsp;import org.thingsboard.server.common.data.relation.RelationTypeGroup;
&nbsp;import org.thingsboard.server.common.data.rule.DefaultRuleChainCreateRequest;
&nbsp;import org.thingsboard.server.common.data.rule.RuleChain;
&nbsp;import org.thingsboard.server.common.data.rule.RuleChainData;
&nbsp;import org.thingsboard.server.common.data.rule.RuleChainMetaData;
&nbsp;import org.thingsboard.server.common.data.rule.RuleChainType;
&nbsp;import org.thingsboard.server.common.data.security.DeviceCredentials;
&nbsp;import org.thingsboard.server.common.data.security.DeviceCredentialsType;
&nbsp;import org.thingsboard.server.common.data.security.model.JwtPair;
&nbsp;import org.thingsboard.server.common.data.security.model.JwtSettings;
&nbsp;import org.thingsboard.server.common.data.security.model.SecuritySettings;
&nbsp;import org.thingsboard.server.common.data.security.model.UserPasswordPolicy;
&nbsp;import org.thingsboard.server.common.data.sms.config.TestSmsRequest;
&nbsp;import org.thingsboard.server.common.data.sync.ie.importing.csv.BulkImportRequest;
&nbsp;import org.thingsboard.server.common.data.sync.ie.importing.csv.BulkImportResult;
&nbsp;import org.thingsboard.server.common.data.sync.vc.AutoCommitSettings;
&nbsp;import org.thingsboard.server.common.data.sync.vc.BranchInfo;
&nbsp;import org.thingsboard.server.common.data.sync.vc.EntityDataDiff;
&nbsp;import org.thingsboard.server.common.data.sync.vc.EntityDataInfo;
&nbsp;import org.thingsboard.server.common.data.sync.vc.EntityVersion;
&nbsp;import org.thingsboard.server.common.data.sync.vc.RepositorySettings;
&nbsp;import org.thingsboard.server.common.data.sync.vc.VersionCreationResult;
&nbsp;import org.thingsboard.server.common.data.sync.vc.VersionLoadResult;
&nbsp;import org.thingsboard.server.common.data.sync.vc.VersionedEntityInfo;
&nbsp;import org.thingsboard.server.common.data.sync.vc.request.create.VersionCreateRequest;
&nbsp;import org.thingsboard.server.common.data.sync.vc.request.load.VersionLoadRequest;
&nbsp;import org.thingsboard.server.common.data.widget.DeprecatedFilter;
&nbsp;import org.thingsboard.server.common.data.widget.WidgetType;
&nbsp;import org.thingsboard.server.common.data.widget.WidgetTypeDetails;
&nbsp;import org.thingsboard.server.common.data.widget.WidgetTypeInfo;
&nbsp;import org.thingsboard.server.common.data.widget.WidgetsBundle;
&nbsp;
&nbsp;import java.io.Closeable;
&nbsp;import java.io.IOException;
&nbsp;import java.net.URI;
&nbsp;import java.net.URISyntaxException;
&nbsp;import java.util.Collections;
&nbsp;import java.util.HashMap;
&nbsp;import java.util.List;
&nbsp;import java.util.Map;
&nbsp;import java.util.Objects;
&nbsp;import java.util.Optional;
&nbsp;import java.util.Set;
&nbsp;import java.util.UUID;
&nbsp;import java.util.concurrent.ExecutorService;
&nbsp;import java.util.concurrent.Future;
&nbsp;import java.util.concurrent.TimeUnit;
&nbsp;import java.util.stream.Collectors;
&nbsp;
&nbsp;import static java.util.stream.Collectors.joining;
&nbsp;import static org.thingsboard.server.common.data.StringUtils.isEmpty;
&nbsp;
&nbsp;public class RestClient implements Closeable {
&nbsp;
&nbsp;    private static final String TOKEN_HEADER_PARAM = &quot;X-Authorization&quot;;
<b class="nc">&nbsp;    private static final long AVG_REQUEST_TIMEOUT = TimeUnit.SECONDS.toMillis(30);</b>
&nbsp;    protected static final String ACTIVATE_TOKEN_REGEX = &quot;/api/noauth/activate?activateToken=&quot;;
<b class="nc">&nbsp;    private final LazyInitializer&lt;ExecutorService&gt; executor = LazyInitializer.&lt;ExecutorService&gt;builder()</b>
<b class="nc">&nbsp;            .setInitializer(() -&gt; ThingsBoardExecutors.newWorkStealingPool(10, getClass()))</b>
<b class="nc">&nbsp;            .get();</b>
&nbsp;    @Getter
&nbsp;    protected final RestTemplate restTemplate;
&nbsp;    protected final RestTemplate loginRestTemplate;
&nbsp;    protected final String baseURL;
&nbsp;
&nbsp;    private String username;
&nbsp;    private String password;
&nbsp;    private String mainToken;
&nbsp;    @Getter
&nbsp;    private String refreshToken;
&nbsp;    private long mainTokenExpTs;
&nbsp;    private long refreshTokenExpTs;
&nbsp;    private long clientServerTimeDiff;
&nbsp;
<b class="nc">&nbsp;    public enum AuthType {JWT, API_KEY}</b>
&nbsp;
&nbsp;    public RestClient(String baseURL) {
<b class="nc">&nbsp;        this(new RestTemplate(), baseURL);</b>
&nbsp;    }
&nbsp;
&nbsp;    public RestClient(RestTemplate restTemplate, String baseURL) {
<b class="nc">&nbsp;        this(restTemplate, baseURL, AuthType.JWT, null);</b>
&nbsp;    }
&nbsp;
&nbsp;    public RestClient(RestTemplate restTemplate, String baseURL, String accessToken) {
<b class="nc">&nbsp;        this(restTemplate, baseURL, AuthType.JWT, accessToken);</b>
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    public RestClient(RestTemplate restTemplate, String baseURL, AuthType authType, String token) {</b>
<b class="nc">&nbsp;        this.restTemplate = restTemplate;</b>
<b class="nc">&nbsp;        this.loginRestTemplate = new RestTemplate(restTemplate.getRequestFactory());</b>
<b class="nc">&nbsp;        this.baseURL = baseURL;</b>
<b class="nc">&nbsp;        this.restTemplate.getInterceptors().add((request, bytes, execution) -&gt; {</b>
<b class="nc">&nbsp;            HttpRequest wrapper = new HttpRequestWrapper(request);</b>
<b class="nc">&nbsp;            switch (authType) {</b>
&nbsp;                case JWT -&gt; {
<b class="nc">&nbsp;                    if (token == null) {</b>
<b class="nc">&nbsp;                        long calculatedTs = System.currentTimeMillis() + clientServerTimeDiff + AVG_REQUEST_TIMEOUT;</b>
<b class="nc">&nbsp;                        if (calculatedTs &gt; mainTokenExpTs) {</b>
<b class="nc">&nbsp;                            synchronized (RestClient.this) {</b>
<b class="nc">&nbsp;                                if (calculatedTs &gt; mainTokenExpTs) {</b>
<b class="nc">&nbsp;                                    if (calculatedTs &lt; refreshTokenExpTs) {</b>
<b class="nc">&nbsp;                                        refreshToken();</b>
&nbsp;                                    } else {
<b class="nc">&nbsp;                                        doLogin();</b>
&nbsp;                                    }
&nbsp;                                }
<b class="nc">&nbsp;                            }</b>
&nbsp;                        }
&nbsp;                    } else {
<b class="nc">&nbsp;                        mainToken = token;</b>
&nbsp;                    }
<b class="nc">&nbsp;                    wrapper.getHeaders().set(TOKEN_HEADER_PARAM, &quot;Bearer &quot; + mainToken);</b>
&nbsp;                }
&nbsp;                case API_KEY -&gt; {
<b class="nc">&nbsp;                    wrapper.getHeaders().set(TOKEN_HEADER_PARAM, &quot;ApiKey &quot; + token);</b>
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;            return execution.execute(wrapper, bytes);</b>
&nbsp;        });
&nbsp;    }
&nbsp;
&nbsp;    public static RestClient withApiKey(String baseURL, String token) {
<b class="nc">&nbsp;        return withApiKey(new RestTemplate(), baseURL, token);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static RestClient withApiKey(RestTemplate rt, String baseURL, String token) {
<b class="nc">&nbsp;        return new RestClient(rt, baseURL, AuthType.API_KEY, token);</b>
&nbsp;    }
&nbsp;
&nbsp;    public String getToken() {
<b class="nc">&nbsp;        return mainToken;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void refreshToken() {
<b class="nc">&nbsp;        Map&lt;String, String&gt; refreshTokenRequest = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        refreshTokenRequest.put(&quot;refreshToken&quot;, refreshToken);</b>
<b class="nc">&nbsp;        long ts = System.currentTimeMillis();</b>
<b class="nc">&nbsp;        ResponseEntity&lt;JsonNode&gt; tokenInfo = loginRestTemplate.postForEntity(baseURL + &quot;/api/auth/token&quot;, refreshTokenRequest, JsonNode.class);</b>
<b class="nc">&nbsp;        setTokenInfo(ts, tokenInfo.getBody());</b>
&nbsp;    }
&nbsp;
&nbsp;    public void login(String username, String password) {
<b class="nc">&nbsp;        this.username = username;</b>
<b class="nc">&nbsp;        this.password = password;</b>
<b class="nc">&nbsp;        doLogin();</b>
&nbsp;    }
&nbsp;
&nbsp;    private void doLogin() {
<b class="nc">&nbsp;        long ts = System.currentTimeMillis();</b>
<b class="nc">&nbsp;        Map&lt;String, String&gt; loginRequest = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        loginRequest.put(&quot;username&quot;, username);</b>
<b class="nc">&nbsp;        loginRequest.put(&quot;password&quot;, password);</b>
<b class="nc">&nbsp;        ResponseEntity&lt;JsonNode&gt; tokenInfo = loginRestTemplate.postForEntity(baseURL + &quot;/api/auth/login&quot;, loginRequest, JsonNode.class);</b>
<b class="nc">&nbsp;        setTokenInfo(ts, tokenInfo.getBody());</b>
&nbsp;    }
&nbsp;
&nbsp;    private synchronized void setTokenInfo(long ts, JsonNode tokenInfo) {
<b class="nc">&nbsp;        this.mainToken = tokenInfo.get(&quot;token&quot;).asText();</b>
<b class="nc">&nbsp;        this.refreshToken = tokenInfo.get(&quot;refreshToken&quot;).asText();</b>
<b class="nc">&nbsp;        this.mainTokenExpTs = JWT.decode(this.mainToken).getExpiresAtAsInstant().toEpochMilli();</b>
<b class="nc">&nbsp;        this.refreshTokenExpTs = JWT.decode(refreshToken).getExpiresAtAsInstant().toEpochMilli();</b>
<b class="nc">&nbsp;        this.clientServerTimeDiff = JWT.decode(this.mainToken).getIssuedAtAsInstant().toEpochMilli() - ts;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;AdminSettings&gt; getAdminSettings(String key) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;AdminSettings&gt; adminSettings = restTemplate.getForEntity(baseURL + &quot;/api/admin/settings/{key}&quot;, AdminSettings.class, key);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(adminSettings.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public AdminSettings saveAdminSettings(AdminSettings adminSettings) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/admin/settings&quot;, adminSettings, AdminSettings.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void sendTestMail(AdminSettings adminSettings) {
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/admin/settings/testMail&quot;, adminSettings);</b>
&nbsp;    }
&nbsp;
&nbsp;    public void sendTestSms(TestSmsRequest testSmsRequest) {
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/admin/settings/testSms&quot;, testSmsRequest);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;SecuritySettings&gt; getSecuritySettings() {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;SecuritySettings&gt; securitySettings = restTemplate.getForEntity(baseURL + &quot;/api/admin/securitySettings&quot;, SecuritySettings.class);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(securitySettings.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public SecuritySettings saveSecuritySettings(SecuritySettings securitySettings) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/admin/securitySettings&quot;, securitySettings, SecuritySettings.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;JwtSettings&gt; getJwtSettings() {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;JwtSettings&gt; jwtSettings = restTemplate.getForEntity(baseURL + &quot;/api/admin/jwtSettings&quot;, JwtSettings.class);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(jwtSettings.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public JwtPair saveJwtSettings(JwtSettings jwtSettings) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/admin/jwtSettings&quot;, jwtSettings, JwtPair.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;RepositorySettings&gt; getRepositorySettings() {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;RepositorySettings&gt; repositorySettings = restTemplate.getForEntity(baseURL + &quot;/api/admin/repositorySettings&quot;, RepositorySettings.class);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(repositorySettings.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Boolean repositorySettingsExists() {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/admin/repositorySettings/exists&quot;, Boolean.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public RepositorySettings saveRepositorySettings(RepositorySettings repositorySettings) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/admin/repositorySettings&quot;, repositorySettings, RepositorySettings.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteRepositorySettings() {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/admin/repositorySettings&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public void checkRepositoryAccess(RepositorySettings repositorySettings) {
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/admin/repositorySettings/checkAccess&quot;, repositorySettings);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;AutoCommitSettings&gt; getAutoCommitSettings() {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;AutoCommitSettings&gt; autoCommitSettings = restTemplate.getForEntity(baseURL + &quot;/api/admin/autoCommitSettings&quot;, AutoCommitSettings.class);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(autoCommitSettings.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Boolean autoCommitSettingsExists() {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/admin/autoCommitSettings/exists&quot;, Boolean.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public AutoCommitSettings saveAutoCommitSettings(AutoCommitSettings autoCommitSettings) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/admin/autoCommitSettings&quot;, autoCommitSettings, AutoCommitSettings.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteAutoCommitSettings() {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/admin/autoCommitSettings&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;UpdateMessage&gt; checkUpdates() {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;UpdateMessage&gt; updateMsg = restTemplate.getForEntity(baseURL + &quot;/api/admin/updates&quot;, UpdateMessage.class);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(updateMsg.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public SystemInfo getSystemInfo() {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/admin/systemInfo&quot;, SystemInfo.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Alarm&gt; getAlarmById(AlarmId alarmId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Alarm&gt; alarm = restTemplate.getForEntity(baseURL + &quot;/api/alarm/{alarmId}&quot;, Alarm.class, alarmId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(alarm.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;AlarmInfo&gt; getAlarmInfoById(AlarmId alarmId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;AlarmInfo&gt; alarmInfo = restTemplate.getForEntity(baseURL + &quot;/api/alarm/info/{alarmId}&quot;, AlarmInfo.class, alarmId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(alarmInfo.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Alarm saveAlarm(Alarm alarm) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/alarm&quot;, alarm, Alarm.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteAlarm(AlarmId alarmId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/alarm/{alarmId}&quot;, alarmId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public void ackAlarm(AlarmId alarmId) {
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/alarm/{alarmId}/ack&quot;, null, alarmId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public void clearAlarm(AlarmId alarmId) {
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/alarm/{alarmId}/clear&quot;, null, alarmId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public void assignAlarm(AlarmId alarmId, UserId userId) {
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/alarm/{alarmId}/assign/{userId}&quot;, null, alarmId.getId(), userId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public void unassignAlarm(AlarmId alarmId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/alarm/{alarmId}/assign&quot;, alarmId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;AlarmInfo&gt; getAlarms(EntityId entityId, AlarmSearchStatus searchStatus, AlarmStatus status, TimePageLink pageLink, Boolean fetchOriginator) {
<b class="nc">&nbsp;        String urlSecondPart = &quot;/api/alarm/{entityType}/{entityId}?fetchOriginator={fetchOriginator}&quot;;</b>
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;entityType&quot;, entityId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;entityId&quot;, entityId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;fetchOriginator&quot;, String.valueOf(fetchOriginator));</b>
<b class="nc">&nbsp;        if (searchStatus != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;searchStatus&quot;, searchStatus.name());</b>
<b class="nc">&nbsp;            urlSecondPart += &quot;&amp;searchStatus={searchStatus}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (status != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;status&quot;, status.name());</b>
<b class="nc">&nbsp;            urlSecondPart += &quot;&amp;status={status}&quot;;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        addTimePageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + urlSecondPart + &quot;&amp;&quot; + getTimeUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;AlarmInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;AlarmInfo&gt; getAllAlarms(AlarmSearchStatus searchStatus, AlarmStatus status, TimePageLink pageLink, Boolean fetchOriginator) {
<b class="nc">&nbsp;        String urlSecondPart = &quot;/api/alarms?&quot;;</b>
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        if (fetchOriginator != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;fetchOriginator&quot;, String.valueOf(fetchOriginator));</b>
<b class="nc">&nbsp;            urlSecondPart += &quot;&amp;fetchOriginator={fetchOriginator}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (searchStatus != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;searchStatus&quot;, searchStatus.name());</b>
<b class="nc">&nbsp;            urlSecondPart += &quot;&amp;searchStatus={searchStatus}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (status != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;status&quot;, status.name());</b>
<b class="nc">&nbsp;            urlSecondPart += &quot;&amp;status={status}&quot;;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        addTimePageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + urlSecondPart + &quot;&amp;&quot; + getTimeUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;AlarmInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;AlarmInfo&gt; getAlarmsV2(EntityId entityId, List&lt;AlarmSearchStatus&gt; statusList, List&lt;AlarmSeverity&gt; severityList,
&nbsp;                                           List&lt;String&gt; typeList, String assignedId, TimePageLink pageLink) {
<b class="nc">&nbsp;        String urlSecondPart = &quot;/api/v2/alarm/{entityType}/{entityId}?&quot;;</b>
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;entityType&quot;, entityId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;entityId&quot;, entityId.getId().toString());</b>
<b class="nc">&nbsp;        if (!CollectionUtils.isEmpty(statusList)) {</b>
<b class="nc">&nbsp;            params.put(&quot;statusList&quot;, listEnumToString(statusList));</b>
<b class="nc">&nbsp;            urlSecondPart += &quot;&amp;statusList={statusList}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (!CollectionUtils.isEmpty(severityList)) {</b>
<b class="nc">&nbsp;            params.put(&quot;severityList&quot;, listEnumToString(severityList));</b>
<b class="nc">&nbsp;            urlSecondPart += &quot;&amp;severityList={severityList}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (!CollectionUtils.isEmpty(typeList)) {</b>
<b class="nc">&nbsp;            params.put(&quot;typeList&quot;, String.join(&quot;,&quot;, typeList));</b>
<b class="nc">&nbsp;            urlSecondPart += &quot;&amp;typeList={typeList}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (assignedId != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;assignedId&quot;, assignedId);</b>
<b class="nc">&nbsp;            urlSecondPart += &quot;&amp;assignedId={assignedId}&quot;;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        addTimePageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + urlSecondPart + &quot;&amp;&quot; + getTimeUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;AlarmInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;AlarmInfo&gt; getAllAlarmsV2(List&lt;AlarmSearchStatus&gt; statusList, List&lt;AlarmSeverity&gt; severityList,
&nbsp;                                              List&lt;String&gt; typeList, String assignedId, TimePageLink pageLink) {
<b class="nc">&nbsp;        String urlSecondPart = &quot;/api/v2/alarms?&quot;;</b>
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        if (!CollectionUtils.isEmpty(statusList)) {</b>
<b class="nc">&nbsp;            params.put(&quot;statusList&quot;, listEnumToString(statusList));</b>
<b class="nc">&nbsp;            urlSecondPart += &quot;&amp;statusList={statusList}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (!CollectionUtils.isEmpty(severityList)) {</b>
<b class="nc">&nbsp;            params.put(&quot;severityList&quot;, listEnumToString(severityList));</b>
<b class="nc">&nbsp;            urlSecondPart += &quot;&amp;severityList={severityList}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (!CollectionUtils.isEmpty(typeList)) {</b>
<b class="nc">&nbsp;            params.put(&quot;typeList&quot;, String.join(&quot;,&quot;, typeList));</b>
<b class="nc">&nbsp;            urlSecondPart += &quot;&amp;typeList={typeList}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (assignedId != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;assignedId&quot;, assignedId);</b>
<b class="nc">&nbsp;            urlSecondPart += &quot;&amp;assignedId={assignedId}&quot;;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        addTimePageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + urlSecondPart + &quot;&amp;&quot; + getTimeUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;AlarmInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;AlarmSeverity&gt; getHighestAlarmSeverity(EntityId entityId, AlarmSearchStatus searchStatus, AlarmStatus status) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;entityType&quot;, entityId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;entityId&quot;, entityId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;searchStatus&quot;, searchStatus.name());</b>
<b class="nc">&nbsp;        params.put(&quot;status&quot;, status.name());</b>
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;AlarmSeverity&gt; alarmSeverity = restTemplate.getForEntity(baseURL + &quot;/api/alarm/highestSeverity/{entityType}/{entityId}?searchStatus={searchStatus}&amp;status={status}&quot;, AlarmSeverity.class, params);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(alarmSeverity.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Alarm createAlarm(Alarm alarm) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/alarm&quot;, alarm, Alarm.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EntitySubtype&gt; getAlarmTypes(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/alarm/types?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EntitySubtype&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public AlarmComment saveAlarmComment(AlarmId alarmId, AlarmComment alarmComment) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/alarm/{alarmId}/comment&quot;, alarmComment, AlarmComment.class, alarmId.getId()).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteAlarmComment(AlarmId alarmId, AlarmCommentId alarmCommentId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/alarm/{alarmId}/comment/{alarmCommentId}&quot;,</b>
<b class="nc">&nbsp;                alarmId.getId(), alarmCommentId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;AlarmCommentInfo&gt; getAlarmComments(AlarmId alarmId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;alarmId&quot;, alarmId.getId().toString());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/alarm/{alarmId}/comment?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;AlarmCommentInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Asset&gt; getAssetById(AssetId assetId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Asset&gt; asset = restTemplate.getForEntity(baseURL + &quot;/api/asset/{assetId}&quot;, Asset.class, assetId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(asset.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;AssetInfo&gt; getAssetInfoById(AssetId assetId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;AssetInfo&gt; asset = restTemplate.getForEntity(baseURL + &quot;/api/asset/info/{assetId}&quot;, AssetInfo.class, assetId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(asset.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Asset saveAsset(Asset asset) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/asset&quot;, asset, Asset.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteAsset(AssetId assetId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/asset/{assetId}&quot;, assetId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Asset&gt; assignAssetToCustomer(CustomerId customerId, AssetId assetId) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;customerId&quot;, customerId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;assetId&quot;, assetId.getId().toString());</b>
&nbsp;
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Asset&gt; asset = restTemplate.postForEntity(baseURL + &quot;/api/customer/{customerId}/asset/{assetId}&quot;, null, Asset.class, params);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(asset.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Asset&gt; unassignAssetFromCustomer(AssetId assetId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Asset&gt; asset = restTemplate.exchange(baseURL + &quot;/api/customer/asset/{assetId}&quot;, HttpMethod.DELETE, HttpEntity.EMPTY, Asset.class, assetId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(asset.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Asset&gt; assignAssetToPublicCustomer(AssetId assetId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Asset&gt; asset = restTemplate.postForEntity(baseURL + &quot;/api/customer/public/asset/{assetId}&quot;, null, Asset.class, assetId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(asset.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;Asset&gt; getTenantAssets(PageLink pageLink, String assetType) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, assetType);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        ResponseEntity&lt;PageData&lt;Asset&gt;&gt; assets = restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/tenant/assets?type={type}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;Asset&gt;&gt;() {</b>
&nbsp;                },
&nbsp;                params);
<b class="nc">&nbsp;        return assets.getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;AssetInfo&gt; getTenantAssetInfos(String type, AssetProfileId assetProfileId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, type);</b>
<b class="nc">&nbsp;        params.put(&quot;assetProfileId&quot;, assetProfileId != null ? assetProfileId.toString() : null);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        ResponseEntity&lt;PageData&lt;AssetInfo&gt;&gt; assets = restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/tenant/assetInfos?type={type}&amp;assetProfileId={assetProfileId}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;AssetInfo&gt;&gt;() {</b>
&nbsp;                },
&nbsp;                params);
<b class="nc">&nbsp;        return assets.getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Asset&gt; getTenantAsset(String assetName) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Asset&gt; asset = restTemplate.getForEntity(baseURL + &quot;/api/tenant/assets?assetName={assetName}&quot;, Asset.class, assetName);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(asset.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;Asset&gt; getCustomerAssets(CustomerId customerId, PageLink pageLink, String assetType) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;customerId&quot;, customerId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, assetType);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        ResponseEntity&lt;PageData&lt;Asset&gt;&gt; assets = restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/customer/{customerId}/assets?type={type}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;Asset&gt;&gt;() {</b>
&nbsp;                },
&nbsp;                params);
<b class="nc">&nbsp;        return assets.getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;AssetInfo&gt; getCustomerAssetInfos(CustomerId customerId, String assetType, AssetProfileId assetProfileId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;customerId&quot;, customerId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, assetType);</b>
<b class="nc">&nbsp;        params.put(&quot;assetProfileId&quot;, assetProfileId != null ? assetProfileId.toString() : null);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        ResponseEntity&lt;PageData&lt;AssetInfo&gt;&gt; assets = restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/customer/{customerId}/assetInfos?type={type}&amp;assetProfileId={assetProfileId}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;AssetInfo&gt;&gt;() {</b>
&nbsp;                },
&nbsp;                params);
<b class="nc">&nbsp;        return assets.getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;Asset&gt; getAssetsByIds(List&lt;AssetId&gt; assetIds) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                        baseURL + &quot;/api/assets?assetIds={assetIds}&quot;,
&nbsp;                        HttpMethod.GET,
&nbsp;                        HttpEntity.EMPTY,
<b class="nc">&nbsp;                        new ParameterizedTypeReference&lt;List&lt;Asset&gt;&gt;() {</b>
&nbsp;                        },
<b class="nc">&nbsp;                        listIdsToString(assetIds))</b>
<b class="nc">&nbsp;                .getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;Asset&gt; findByQuery(AssetSearchQuery query) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                URI.create(baseURL + &quot;/api/assets&quot;),</b>
&nbsp;                HttpMethod.POST,
&nbsp;                new HttpEntity&lt;&gt;(query),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;Asset&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated(since = &quot;3.6.2&quot;)
&nbsp;    public List&lt;EntitySubtype&gt; getAssetTypes() {
<b class="nc">&nbsp;        return restTemplate.exchange(URI.create(</b>
&nbsp;                        baseURL + &quot;/api/asset/types&quot;),
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;EntitySubtype&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;EntitySubtype&gt; getAssetProfileNames(boolean activeOnly) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/assetProfile/names?activeOnly={activeOnly}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;EntitySubtype&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, activeOnly).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public BulkImportResult&lt;Asset&gt; processAssetsBulkImport(BulkImportRequest request) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/asset/bulk_import&quot;,
&nbsp;                HttpMethod.POST,
&nbsp;                new HttpEntity&lt;&gt;(request),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;BulkImportResult&lt;Asset&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Optional&lt;Asset&gt; findAsset(String name) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;assetName&quot;, name);</b>
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Asset&gt; assetEntity = restTemplate.getForEntity(baseURL + &quot;/api/tenant/assets?assetName={assetName}&quot;, Asset.class, params);</b>
<b class="nc">&nbsp;            return Optional.of(assetEntity.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Asset createAsset(Asset asset) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/asset&quot;, asset, Asset.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Asset createAsset(String name, String type) {
<b class="nc">&nbsp;        Asset asset = new Asset();</b>
<b class="nc">&nbsp;        asset.setName(name);</b>
<b class="nc">&nbsp;        asset.setType(type);</b>
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/asset&quot;, asset, Asset.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Asset assignAsset(CustomerId customerId, AssetId assetId) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/customer/{customerId}/asset/{assetId}&quot;, HttpEntity.EMPTY, Asset.class,</b>
<b class="nc">&nbsp;                customerId.toString(), assetId.toString()).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;AuditLog&gt; getAuditLogsByCustomerId(CustomerId customerId, TimePageLink pageLink, List&lt;ActionType&gt; actionTypes) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;customerId&quot;, customerId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;actionTypes&quot;, listEnumToString(actionTypes));</b>
<b class="nc">&nbsp;        addTimePageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        ResponseEntity&lt;PageData&lt;AuditLog&gt;&gt; auditLog = restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/audit/logs/customer/{customerId}?actionTypes={actionTypes}&amp;&quot; + getTimeUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;AuditLog&gt;&gt;() {</b>
&nbsp;                },
&nbsp;                params);
<b class="nc">&nbsp;        return auditLog.getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;AuditLog&gt; getAuditLogsByUserId(UserId userId, TimePageLink pageLink, List&lt;ActionType&gt; actionTypes) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;userId&quot;, userId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;actionTypes&quot;, listEnumToString(actionTypes));</b>
<b class="nc">&nbsp;        addTimePageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        ResponseEntity&lt;PageData&lt;AuditLog&gt;&gt; auditLog = restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/audit/logs/user/{userId}?actionTypes={actionTypes}&amp;&quot; + getTimeUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;AuditLog&gt;&gt;() {</b>
&nbsp;                },
&nbsp;                params);
<b class="nc">&nbsp;        return auditLog.getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;AuditLog&gt; getAuditLogsByEntityId(EntityId entityId, List&lt;ActionType&gt; actionTypes, TimePageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;entityType&quot;, entityId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;entityId&quot;, entityId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;actionTypes&quot;, listEnumToString(actionTypes));</b>
<b class="nc">&nbsp;        addTimePageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        ResponseEntity&lt;PageData&lt;AuditLog&gt;&gt; auditLog = restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/audit/logs/entity/{entityType}/{entityId}?actionTypes={actionTypes}&amp;&quot; + getTimeUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;AuditLog&gt;&gt;() {</b>
&nbsp;                },
&nbsp;                params);
<b class="nc">&nbsp;        return auditLog.getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;AuditLog&gt; getAuditLogs(TimePageLink pageLink, List&lt;ActionType&gt; actionTypes) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;actionTypes&quot;, listEnumToString(actionTypes));</b>
<b class="nc">&nbsp;        addTimePageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        ResponseEntity&lt;PageData&lt;AuditLog&gt;&gt; auditLog = restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/audit/logs?actionTypes={actionTypes}&amp;&quot; + getTimeUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;AuditLog&gt;&gt;() {</b>
&nbsp;                },
&nbsp;                params);
<b class="nc">&nbsp;        return auditLog.getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public String getActivateToken(UserId userId) {
<b class="nc">&nbsp;        String activationLink = getActivationLink(userId);</b>
<b class="nc">&nbsp;        return activationLink.substring(activationLink.lastIndexOf(ACTIVATE_TOKEN_REGEX) + ACTIVATE_TOKEN_REGEX.length());</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;User&gt; getUser() {
<b class="nc">&nbsp;        ResponseEntity&lt;User&gt; user = restTemplate.getForEntity(baseURL + &quot;/api/auth/user&quot;, User.class);</b>
<b class="nc">&nbsp;        return Optional.ofNullable(user.getBody());</b>
&nbsp;    }
&nbsp;
&nbsp;    public void logout() {
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/auth/logout&quot;, null);</b>
&nbsp;    }
&nbsp;
&nbsp;    public void changePassword(String currentPassword, String newPassword) {
<b class="nc">&nbsp;        ObjectNode changePasswordRequest = JacksonUtil.newObjectNode();</b>
<b class="nc">&nbsp;        changePasswordRequest.put(&quot;currentPassword&quot;, currentPassword);</b>
<b class="nc">&nbsp;        changePasswordRequest.put(&quot;newPassword&quot;, newPassword);</b>
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/auth/changePassword&quot;, changePasswordRequest);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;UserPasswordPolicy&gt; getUserPasswordPolicy() {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;UserPasswordPolicy&gt; userPasswordPolicy = restTemplate.getForEntity(baseURL + &quot;/api/noauth/userPasswordPolicy&quot;, UserPasswordPolicy.class);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(userPasswordPolicy.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public ResponseEntity&lt;String&gt; checkActivateToken(UserId userId) {
<b class="nc">&nbsp;        String activateToken = getActivateToken(userId);</b>
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/noauth/activate?activateToken={activateToken}&quot;, String.class, activateToken);</b>
&nbsp;    }
&nbsp;
&nbsp;    public void requestResetPasswordByEmail(String email) {
<b class="nc">&nbsp;        ObjectNode resetPasswordByEmailRequest = JacksonUtil.newObjectNode();</b>
<b class="nc">&nbsp;        resetPasswordByEmailRequest.put(&quot;email&quot;, email);</b>
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/noauth/resetPasswordByEmail&quot;, resetPasswordByEmailRequest);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;JsonNode&gt; activateUser(UserId userId, String password) {
<b class="nc">&nbsp;        return activateUser(userId, password, true);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;JsonNode&gt; activateUser(UserId userId, String password, boolean sendActivationMail) {
<b class="nc">&nbsp;        ObjectNode activateRequest = JacksonUtil.newObjectNode();</b>
<b class="nc">&nbsp;        activateRequest.put(&quot;activateToken&quot;, getActivateToken(userId));</b>
<b class="nc">&nbsp;        activateRequest.put(&quot;password&quot;, password);</b>
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;JsonNode&gt; jsonNode = restTemplate.postForEntity(baseURL + &quot;/api/noauth/activate?sendActivationMail={sendActivationMail}&quot;, activateRequest, JsonNode.class, sendActivationMail);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(jsonNode.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;ComponentDescriptor&gt; getComponentDescriptorByClazz(String componentDescriptorClazz) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;ComponentDescriptor&gt; componentDescriptor = restTemplate.getForEntity(baseURL + &quot;/api/component/{componentDescriptorClazz}&quot;, ComponentDescriptor.class, componentDescriptorClazz);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(componentDescriptor.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;ComponentDescriptor&gt; getComponentDescriptorsByType(ComponentType componentType) {
<b class="nc">&nbsp;        return getComponentDescriptorsByType(componentType, RuleChainType.CORE);</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;ComponentDescriptor&gt; getComponentDescriptorsByType(ComponentType componentType, RuleChainType ruleChainType) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/components/&quot; + componentType.name() + &quot;/?ruleChainType={ruleChainType}&quot;,</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;ComponentDescriptor&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                ruleChainType).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;ComponentDescriptor&gt; getComponentDescriptorsByTypes(List&lt;ComponentType&gt; componentTypes) {
<b class="nc">&nbsp;        return getComponentDescriptorsByTypes(componentTypes, RuleChainType.CORE);</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;ComponentDescriptor&gt; getComponentDescriptorsByTypes(List&lt;ComponentType&gt; componentTypes, RuleChainType ruleChainType) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                        baseURL + &quot;/api/components?componentTypes={componentTypes}&amp;ruleChainType={ruleChainType}&quot;,
&nbsp;                        HttpMethod.GET,
&nbsp;                        HttpEntity.EMPTY,
<b class="nc">&nbsp;                        new ParameterizedTypeReference&lt;List&lt;ComponentDescriptor&gt;&gt;() {</b>
&nbsp;                        },
<b class="nc">&nbsp;                        listEnumToString(componentTypes),</b>
&nbsp;                        ruleChainType)
<b class="nc">&nbsp;                .getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Customer&gt; getCustomerById(CustomerId customerId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Customer&gt; customer = restTemplate.getForEntity(baseURL + &quot;/api/customer/{customerId}&quot;, Customer.class, customerId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(customer.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;JsonNode&gt; getShortCustomerInfoById(CustomerId customerId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;JsonNode&gt; customerInfo = restTemplate.getForEntity(baseURL + &quot;/api/customer/{customerId}/shortInfo&quot;, JsonNode.class, customerId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(customerInfo.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public String getCustomerTitleById(CustomerId customerId) {
<b class="nc">&nbsp;        return restTemplate.getForObject(baseURL + &quot;/api/customer/{customerId}/title&quot;, String.class, customerId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public Customer saveCustomer(Customer customer) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/customer&quot;, customer, Customer.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteCustomer(CustomerId customerId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/customer/{customerId}&quot;, customerId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;Customer&gt; getCustomers(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        ResponseEntity&lt;PageData&lt;Customer&gt;&gt; customer = restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/customers?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;Customer&gt;&gt;() {</b>
&nbsp;                },
&nbsp;                params);
<b class="nc">&nbsp;        return customer.getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Customer&gt; getTenantCustomer(String customerTitle) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Customer&gt; customer = restTemplate.getForEntity(baseURL + &quot;/api/tenant/customers?customerTitle={customerTitle}&quot;, Customer.class, customerTitle);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(customer.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Optional&lt;Customer&gt; findCustomer(String title) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;customerTitle&quot;, title);</b>
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Customer&gt; customerEntity = restTemplate.getForEntity(baseURL + &quot;/api/tenant/customers?customerTitle={customerTitle}&quot;, Customer.class, params);</b>
<b class="nc">&nbsp;            return Optional.of(customerEntity.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Customer createCustomer(Customer customer) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/customer&quot;, customer, Customer.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Customer createCustomer(String title) {
<b class="nc">&nbsp;        Customer customer = new Customer();</b>
<b class="nc">&nbsp;        customer.setTitle(title);</b>
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/customer&quot;, customer, Customer.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Long getServerTime() {
<b class="nc">&nbsp;        return restTemplate.getForObject(baseURL + &quot;/api/dashboard/serverTime&quot;, Long.class);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Long getMaxDatapointsLimit() {
<b class="nc">&nbsp;        return restTemplate.getForObject(baseURL + &quot;/api/dashboard/maxDatapointsLimit&quot;, Long.class);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;DashboardInfo&gt; getDashboardInfoById(DashboardId dashboardId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;DashboardInfo&gt; dashboardInfo = restTemplate.getForEntity(baseURL + &quot;/api/dashboard/info/{dashboardId}&quot;, DashboardInfo.class, dashboardId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(dashboardInfo.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Dashboard&gt; getDashboardById(DashboardId dashboardId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Dashboard&gt; dashboard = restTemplate.getForEntity(baseURL + &quot;/api/dashboard/{dashboardId}&quot;, Dashboard.class, dashboardId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(dashboard.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Dashboard saveDashboard(Dashboard dashboard) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/dashboard&quot;, dashboard, Dashboard.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteDashboard(DashboardId dashboardId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/dashboard/{dashboardId}&quot;, dashboardId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Dashboard&gt; assignDashboardToCustomer(CustomerId customerId, DashboardId dashboardId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Dashboard&gt; dashboard = restTemplate.postForEntity(baseURL + &quot;/api/customer/{customerId}/dashboard/{dashboardId}&quot;, null, Dashboard.class, customerId.getId(), dashboardId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(dashboard.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Dashboard&gt; unassignDashboardFromCustomer(CustomerId customerId, DashboardId dashboardId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Dashboard&gt; dashboard = restTemplate.exchange(baseURL + &quot;/api/customer/{customerId}/dashboard/{dashboardId}&quot;, HttpMethod.DELETE, HttpEntity.EMPTY, Dashboard.class, customerId.getId(), dashboardId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(dashboard.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Dashboard&gt; updateDashboardCustomers(DashboardId dashboardId, List&lt;CustomerId&gt; customerIds) {
<b class="nc">&nbsp;        Object[] customerIdArray = customerIds.stream().map(customerId -&gt; customerId.getId().toString()).toArray();</b>
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Dashboard&gt; dashboard = restTemplate.postForEntity(baseURL + &quot;/api/dashboard/{dashboardId}/customers&quot;, customerIdArray, Dashboard.class, dashboardId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(dashboard.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Dashboard&gt; addDashboardCustomers(DashboardId dashboardId, List&lt;CustomerId&gt; customerIds) {
<b class="nc">&nbsp;        Object[] customerIdArray = customerIds.stream().map(customerId -&gt; customerId.getId().toString()).toArray();</b>
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Dashboard&gt; dashboard = restTemplate.postForEntity(baseURL + &quot;/api/dashboard/{dashboardId}/customers/add&quot;, customerIdArray, Dashboard.class, dashboardId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(dashboard.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Dashboard&gt; removeDashboardCustomers(DashboardId dashboardId, List&lt;CustomerId&gt; customerIds) {
<b class="nc">&nbsp;        Object[] customerIdArray = customerIds.stream().map(customerId -&gt; customerId.getId().toString()).toArray();</b>
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Dashboard&gt; dashboard = restTemplate.postForEntity(baseURL + &quot;/api/dashboard/{dashboardId}/customers/remove&quot;, customerIdArray, Dashboard.class, dashboardId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(dashboard.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Dashboard&gt; assignDashboardToPublicCustomer(DashboardId dashboardId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Dashboard&gt; dashboard = restTemplate.postForEntity(baseURL + &quot;/api/customer/public/dashboard/{dashboardId}&quot;, null, Dashboard.class, dashboardId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(dashboard.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Dashboard&gt; unassignDashboardFromPublicCustomer(DashboardId dashboardId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Dashboard&gt; dashboard = restTemplate.exchange(baseURL + &quot;/api/customer/public/dashboard/{dashboardId}&quot;, HttpMethod.DELETE, HttpEntity.EMPTY, Dashboard.class, dashboardId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(dashboard.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;DashboardInfo&gt; getTenantDashboards(TenantId tenantId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;tenantId&quot;, tenantId.getId().toString());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/tenant/{tenantId}/dashboards?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;DashboardInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;DashboardInfo&gt; getTenantDashboards(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/tenant/dashboards?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;DashboardInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;DashboardInfo&gt; getCustomerDashboards(CustomerId customerId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;customerId&quot;, customerId.getId().toString());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/customer/{customerId}/dashboards?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;DashboardInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Dashboard createDashboard(Dashboard dashboard) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/dashboard&quot;, dashboard, Dashboard.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public List&lt;DashboardInfo&gt; findTenantDashboards() {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;PageData&lt;DashboardInfo&gt;&gt; dashboards =</b>
<b class="nc">&nbsp;                    restTemplate.exchange(baseURL + &quot;/api/tenant/dashboards?pageSize=100000&quot;, HttpMethod.GET, null, new ParameterizedTypeReference&lt;PageData&lt;DashboardInfo&gt;&gt;() {</b>
&nbsp;                    });
<b class="nc">&nbsp;            return dashboards.getBody().getData();</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Collections.emptyList();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Device&gt; getDeviceById(DeviceId deviceId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Device&gt; device = restTemplate.getForEntity(baseURL + &quot;/api/device/{deviceId}&quot;, Device.class, deviceId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(device.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;DeviceInfo&gt; getDeviceInfoById(DeviceId deviceId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;DeviceInfo&gt; device = restTemplate.getForEntity(baseURL + &quot;/api/device/info/{deviceId}&quot;, DeviceInfo.class, deviceId);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(device.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Device saveDevice(Device device) {
<b class="nc">&nbsp;        return saveDevice(device, null);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Device saveDevice(Device device, String accessToken) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/device?accessToken={accessToken}&quot;, device, Device.class, accessToken).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteDevice(DeviceId deviceId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/device/{deviceId}&quot;, deviceId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Device&gt; assignDeviceToCustomer(CustomerId customerId, DeviceId deviceId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Device&gt; device = restTemplate.postForEntity(baseURL + &quot;/api/customer/{customerId}/device/{deviceId}&quot;, null, Device.class, customerId.getId(), deviceId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(device.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Device&gt; unassignDeviceFromCustomer(DeviceId deviceId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Device&gt; device = restTemplate.exchange(baseURL + &quot;/api/customer/device/{deviceId}&quot;, HttpMethod.DELETE, HttpEntity.EMPTY, Device.class, deviceId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(device.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Device&gt; assignDeviceToPublicCustomer(DeviceId deviceId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Device&gt; device = restTemplate.postForEntity(baseURL + &quot;/api/customer/public/device/{deviceId}&quot;, null, Device.class, deviceId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(device.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;DeviceCredentials&gt; getDeviceCredentialsByDeviceId(DeviceId deviceId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;DeviceCredentials&gt; deviceCredentials = restTemplate.getForEntity(baseURL + &quot;/api/device/{deviceId}/credentials&quot;, DeviceCredentials.class, deviceId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(deviceCredentials.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public DeviceCredentials saveDeviceCredentials(DeviceCredentials deviceCredentials) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/device/credentials&quot;, deviceCredentials, DeviceCredentials.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Device&gt; saveDeviceWithCredentials(Device device, DeviceCredentials credentials) {
&nbsp;        try {
<b class="nc">&nbsp;            SaveDeviceWithCredentialsRequest request = new SaveDeviceWithCredentialsRequest(device, credentials);</b>
<b class="nc">&nbsp;            ResponseEntity&lt;Device&gt; deviceOpt = restTemplate.postForEntity(baseURL + &quot;/api/device-with-credentials&quot;, request, Device.class);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(deviceOpt.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;Device&gt; getTenantDevices(String type, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, type);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/tenant/devices?type={type}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;Device&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;DeviceInfo&gt; getTenantDeviceInfos(String type, Boolean active, DeviceProfileId deviceProfileId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, type);</b>
<b class="nc">&nbsp;        params.put(&quot;deviceProfileId&quot;, deviceProfileId != null ? deviceProfileId.toString() : null);</b>
<b class="nc">&nbsp;        if (active != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;active&quot;, active.toString());</b>
&nbsp;        }
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/tenant/deviceInfos?type={type}&amp;deviceProfileId={deviceProfileId}&amp;&quot;
<b class="nc">&nbsp;                        + (active != null ? &quot;active={active}&amp;&quot; : &quot;&quot;) + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;DeviceInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Device&gt; getTenantDevice(String deviceName) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Device&gt; device = restTemplate.getForEntity(baseURL + &quot;/api/tenant/devices?deviceName={deviceName}&quot;, Device.class, deviceName);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(device.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;Device&gt; getCustomerDevices(CustomerId customerId, String deviceType, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;customerId&quot;, customerId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, deviceType);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/customer/{customerId}/devices?type={type}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;Device&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;DeviceInfo&gt; getCustomerDeviceInfos(CustomerId customerId, String deviceType, DeviceProfileId deviceProfileId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;customerId&quot;, customerId.toString());</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, deviceType);</b>
<b class="nc">&nbsp;        params.put(&quot;deviceProfileId&quot;, deviceProfileId != null ? deviceProfileId.toString() : null);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/customer/{customerId}/devices?type={type}&amp;deviceProfileId={deviceProfileId}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;DeviceInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;Device&gt; getDevicesByIds(List&lt;DeviceId&gt; deviceIds) {
<b class="nc">&nbsp;        return restTemplate.exchange(baseURL + &quot;/api/devices?deviceIds={deviceIds}&quot;,</b>
&nbsp;                HttpMethod.GET,
<b class="nc">&nbsp;                HttpEntity.EMPTY, new ParameterizedTypeReference&lt;List&lt;Device&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, listIdsToString(deviceIds)).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;Device&gt; findByQuery(DeviceSearchQuery query) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/devices&quot;,
&nbsp;                HttpMethod.POST,
&nbsp;                new HttpEntity&lt;&gt;(query),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;Device&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated(since = &quot;3.6.2&quot;)
&nbsp;    public List&lt;EntitySubtype&gt; getDeviceTypes() {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/device/types&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;EntitySubtype&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;EntitySubtype&gt; getDeviceProfileNames(boolean activeOnly) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/deviceProfile/names?activeOnly={activeOnly}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;EntitySubtype&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, activeOnly).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;DeviceProfileInfo&gt; getDeviceProfileInfosByIds(Set&lt;UUID&gt; ids) {
&nbsp;        URIBuilder builder;
&nbsp;        try {
<b class="nc">&nbsp;            builder = new URIBuilder(baseURL);</b>
&nbsp;        } catch (URISyntaxException e) {
<b class="nc">&nbsp;            throw new IllegalArgumentException(&quot;Invalid base URL: &quot; + baseURL, e);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        builder.appendPath(&quot;/api/deviceProfileInfos&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        String commaSeparatedIds = ids.stream()</b>
<b class="nc">&nbsp;                .filter(Objects::nonNull)</b>
<b class="nc">&nbsp;                .map(UUID::toString)</b>
<b class="nc">&nbsp;                .collect(joining(&quot;,&quot;));</b>
&nbsp;
<b class="nc">&nbsp;        builder.addParameter(&quot;deviceProfileIds&quot;, commaSeparatedIds);</b>
&nbsp;
&nbsp;        URI uri;
&nbsp;        try {
<b class="nc">&nbsp;            uri = builder.build();</b>
&nbsp;        } catch (URISyntaxException e) {
<b class="nc">&nbsp;            throw new IllegalStateException(&quot;Failed to construct API URI from base URL and provided params&quot;, e);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(uri, HttpMethod.GET, null, new ParameterizedTypeReference&lt;List&lt;DeviceProfileInfo&gt;&gt;() {}).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public JsonNode claimDevice(String deviceName, ClaimRequest claimRequest) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/customer/device/{deviceName}/claim&quot;,
&nbsp;                HttpMethod.POST,
&nbsp;                new HttpEntity&lt;&gt;(claimRequest),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;JsonNode&gt;() {</b>
<b class="nc">&nbsp;                }, deviceName).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void reClaimDevice(String deviceName) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/customer/device/{deviceName}/claim&quot;, deviceName);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Device assignDeviceToTenant(TenantId tenantId, DeviceId deviceId) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(</b>
&nbsp;                baseURL + &quot;/api/tenant/{tenantId}/device/{deviceId}&quot;,
<b class="nc">&nbsp;                HttpEntity.EMPTY, Device.class, tenantId, deviceId).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Long countByDeviceProfileAndEmptyOtaPackage(OtaPackageType otaPackageType, DeviceProfileId deviceProfileId) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;otaPackageType&quot;, otaPackageType.name());</b>
<b class="nc">&nbsp;        params.put(&quot;deviceProfileId&quot;, deviceProfileId.getId().toString());</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/devices/count/{otaPackageType}/{deviceProfileId}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;Long&gt;() {</b>
&nbsp;                },
&nbsp;                params
<b class="nc">&nbsp;        ).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public BulkImportResult&lt;Device&gt; processDevicesBulkImport(BulkImportRequest request) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/device/bulk_import&quot;,
&nbsp;                HttpMethod.POST,
&nbsp;                new HttpEntity&lt;&gt;(request),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;BulkImportResult&lt;Device&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Device createDevice(String name, String type) {
<b class="nc">&nbsp;        Device device = new Device();</b>
<b class="nc">&nbsp;        device.setName(name);</b>
<b class="nc">&nbsp;        device.setType(type);</b>
<b class="nc">&nbsp;        return doCreateDevice(device, null);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Device createDevice(Device device) {
<b class="nc">&nbsp;        return doCreateDevice(device, null);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Device createDevice(Device device, String accessToken) {
<b class="nc">&nbsp;        return doCreateDevice(device, accessToken);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    private Device doCreateDevice(Device device, String accessToken) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        String deviceCreationUrl = &quot;/api/device&quot;;</b>
<b class="nc">&nbsp;        if (!StringUtils.isEmpty(accessToken)) {</b>
<b class="nc">&nbsp;            deviceCreationUrl = deviceCreationUrl + &quot;?accessToken={accessToken}&quot;;</b>
<b class="nc">&nbsp;            params.put(&quot;accessToken&quot;, accessToken);</b>
&nbsp;        }
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + deviceCreationUrl, device, Device.class, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public DeviceCredentials getCredentials(DeviceId id) {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/device/&quot; + id.getId().toString() + &quot;/credentials&quot;, DeviceCredentials.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Optional&lt;Device&gt; findDevice(String name) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;deviceName&quot;, name);</b>
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Device&gt; deviceEntity = restTemplate.getForEntity(baseURL + &quot;/api/tenant/devices?deviceName={deviceName}&quot;, Device.class, params);</b>
<b class="nc">&nbsp;            return Optional.of(deviceEntity.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public DeviceCredentials updateDeviceCredentials(DeviceId deviceId, String token) {
<b class="nc">&nbsp;        DeviceCredentials deviceCredentials = getCredentials(deviceId);</b>
<b class="nc">&nbsp;        deviceCredentials.setCredentialsType(DeviceCredentialsType.ACCESS_TOKEN);</b>
<b class="nc">&nbsp;        deviceCredentials.setCredentialsId(token);</b>
<b class="nc">&nbsp;        return saveDeviceCredentials(deviceCredentials);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Device assignDevice(CustomerId customerId, DeviceId deviceId) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/customer/{customerId}/device/{deviceId}&quot;, null, Device.class,</b>
<b class="nc">&nbsp;                customerId.toString(), deviceId.toString()).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;DeviceProfile&gt; getDeviceProfileById(DeviceProfileId deviceProfileId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;DeviceProfile&gt; deviceProfile = restTemplate.getForEntity(baseURL + &quot;/api/deviceProfile/{deviceProfileId}&quot;, DeviceProfile.class, deviceProfileId);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(deviceProfile.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;DeviceProfileInfo&gt; getDeviceProfileInfoById(DeviceProfileId deviceProfileId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;DeviceProfileInfo&gt; deviceProfileInfo = restTemplate.getForEntity(baseURL + &quot;/api/deviceProfileInfo/{deviceProfileId}&quot;, DeviceProfileInfo.class, deviceProfileId);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(deviceProfileInfo.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public DeviceProfileInfo getDefaultDeviceProfileInfo() {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/deviceProfileInfo/default&quot;, DeviceProfileInfo.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public DeviceProfile saveDeviceProfile(DeviceProfile deviceProfile) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/deviceProfile&quot;, deviceProfile, DeviceProfile.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteDeviceProfile(DeviceProfileId deviceProfileId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/deviceProfile/{deviceProfileId}&quot;, deviceProfileId);</b>
&nbsp;    }
&nbsp;
&nbsp;    public DeviceProfile setDefaultDeviceProfile(DeviceProfileId deviceProfileId) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(</b>
&nbsp;                baseURL + &quot;/api/deviceProfile/{deviceProfileId}/default&quot;,
<b class="nc">&nbsp;                HttpEntity.EMPTY, DeviceProfile.class, deviceProfileId).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;DeviceProfile&gt; getDeviceProfiles(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/deviceProfiles?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;DeviceProfile&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;DeviceProfileInfo&gt; getDeviceProfileInfos(PageLink pageLink, DeviceTransportType deviceTransportType) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;deviceTransportType&quot;, deviceTransportType != null ? deviceTransportType.name() : null);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/deviceProfileInfos?deviceTransportType={deviceTransportType}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;DeviceProfileInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;AssetProfile&gt; getAssetProfileById(AssetProfileId assetProfileId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;AssetProfile&gt; assetProfile = restTemplate.getForEntity(baseURL + &quot;/api/assetProfile/{assetProfileId}&quot;, AssetProfile.class, assetProfileId);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(assetProfile.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;AssetProfileInfo&gt; getAssetProfileInfoById(AssetProfileId assetProfileId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;AssetProfileInfo&gt; assetProfileInfo = restTemplate.getForEntity(baseURL + &quot;/api/assetProfileInfo/{assetProfileId}&quot;, AssetProfileInfo.class, assetProfileId);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(assetProfileInfo.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public AssetProfileInfo getDefaultAssetProfileInfo() {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/assetProfileInfo/default&quot;, AssetProfileInfo.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public AssetProfile saveAssetProfile(AssetProfile assetProfile) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/assetProfile&quot;, assetProfile, AssetProfile.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteAssetProfile(AssetProfileId assetProfileId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/assetProfile/{assetProfileId}&quot;, assetProfileId);</b>
&nbsp;    }
&nbsp;
&nbsp;    public AssetProfile setDefaultAssetProfile(AssetProfileId assetProfileId) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(</b>
&nbsp;                baseURL + &quot;/api/assetProfile/{assetProfileId}/default&quot;,
<b class="nc">&nbsp;                HttpEntity.EMPTY, AssetProfile.class, assetProfileId).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;AssetProfile&gt; getAssetProfiles(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/assetProfiles?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;AssetProfile&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;AssetProfileInfo&gt; getAssetProfileInfos(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/assetProfileInfos?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;AssetProfileInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;AssetProfileInfo&gt; getAssetProfilesByIds(Set&lt;UUID&gt; ids) {
&nbsp;        URIBuilder builder;
&nbsp;        try {
<b class="nc">&nbsp;            builder = new URIBuilder(baseURL);</b>
&nbsp;        } catch (URISyntaxException e) {
<b class="nc">&nbsp;            throw new IllegalArgumentException(&quot;Invalid base URL: &quot; + baseURL, e);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        builder.appendPath(&quot;/api/assetProfileInfos&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        String commaSeparatedIds = ids.stream()</b>
<b class="nc">&nbsp;                .filter(Objects::nonNull)</b>
<b class="nc">&nbsp;                .map(UUID::toString)</b>
<b class="nc">&nbsp;                .collect(joining(&quot;,&quot;));</b>
&nbsp;
<b class="nc">&nbsp;        builder.addParameter(&quot;assetProfileIds&quot;, commaSeparatedIds);</b>
&nbsp;
&nbsp;        URI uri;
&nbsp;        try {
<b class="nc">&nbsp;            uri = builder.build();</b>
&nbsp;        } catch (URISyntaxException e) {
<b class="nc">&nbsp;            throw new IllegalStateException(&quot;Failed to construct API URI from base URL and provided params&quot;, e);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(uri, HttpMethod.GET, null, new ParameterizedTypeReference&lt;List&lt;AssetProfileInfo&gt;&gt;() {}).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Long countEntitiesByQuery(EntityCountQuery query) {
<b class="nc">&nbsp;        return restTemplate.postForObject(baseURL + &quot;/api/entitiesQuery/count&quot;, query, Long.class);</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EntityData&gt; findEntityDataByQuery(EntityDataQuery query) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/entitiesQuery/find&quot;,
&nbsp;                HttpMethod.POST, new HttpEntity&lt;&gt;(query),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EntityData&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public AvailableEntityKeys findAvailableEntityKeysByQuery(EntityDataQuery query, boolean includeTimeseries, boolean includeAttributes, AttributeScope scope) {
<b class="nc">&nbsp;        var uri = UriComponentsBuilder.fromUriString(baseURL)</b>
<b class="nc">&nbsp;                .path(&quot;/api/entitiesQuery/find/keys&quot;)</b>
<b class="nc">&nbsp;                .queryParam(&quot;timeseries&quot;, includeTimeseries)</b>
<b class="nc">&nbsp;                .queryParam(&quot;attributes&quot;, includeAttributes)</b>
<b class="nc">&nbsp;                .queryParamIfPresent(&quot;scope&quot;, Optional.ofNullable(scope))</b>
<b class="nc">&nbsp;                .build()</b>
<b class="nc">&nbsp;                .toUri();</b>
<b class="nc">&nbsp;        return restTemplate.exchange(uri, HttpMethod.POST, new HttpEntity&lt;&gt;(query), new ParameterizedTypeReference&lt;AvailableEntityKeys&gt;() {}).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;AlarmData&gt; findAlarmDataByQuery(AlarmDataQuery query) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/alarmsQuery/find&quot;,
&nbsp;                HttpMethod.POST, new HttpEntity&lt;&gt;(query),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;AlarmData&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Long countAlarmsByQuery(AlarmCountQuery query) {
<b class="nc">&nbsp;        return restTemplate.postForObject(baseURL + &quot;/api/alarmsQuery/count&quot;, query, Long.class);</b>
&nbsp;    }
&nbsp;
&nbsp;    public void saveRelation(EntityRelation relation) {
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/relation&quot;, relation);</b>
&nbsp;    }
&nbsp;
&nbsp;    public EntityRelation saveRelationV2(EntityRelation relation) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/v2/relation&quot;, relation, EntityRelation.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteRelation(EntityId fromId, String relationType, RelationTypeGroup relationTypeGroup, EntityId toId) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;fromId&quot;, fromId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;fromType&quot;, fromId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;relationType&quot;, relationType);</b>
<b class="nc">&nbsp;        params.put(&quot;relationTypeGroup&quot;, relationTypeGroup.name());</b>
<b class="nc">&nbsp;        params.put(&quot;toId&quot;, toId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;toType&quot;, toId.getEntityType().name());</b>
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/relation?fromId={fromId}&amp;fromType={fromType}&amp;relationType={relationType}&amp;relationTypeGroup={relationTypeGroup}&amp;toId={toId}&amp;toType={toType}&quot;, params);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;EntityRelation&gt; deleteRelationV2(EntityId fromId, String relationType, RelationTypeGroup relationTypeGroup, EntityId toId) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;fromId&quot;, fromId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;fromType&quot;, fromId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;relationType&quot;, relationType);</b>
<b class="nc">&nbsp;        params.put(&quot;relationTypeGroup&quot;, relationTypeGroup.name());</b>
<b class="nc">&nbsp;        params.put(&quot;toId&quot;, toId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;toType&quot;, toId.getEntityType().name());</b>
&nbsp;        try {
<b class="nc">&nbsp;            var relation = restTemplate.exchange(baseURL + &quot;/api/relation?fromId={fromId}&amp;fromType={fromType}&amp;relationType={relationType}&amp;relationTypeGroup={relationTypeGroup}&amp;toId={toId}&amp;toType={toType}&quot;, HttpMethod.DELETE, HttpEntity.EMPTY, EntityRelation.class, params);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(relation.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public void deleteRelations(EntityId entityId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/relations?entityId={entityId}&amp;entityType={entityType}&quot;, entityId.getId().toString(), entityId.getEntityType().name());</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;EntityRelation&gt; getRelation(EntityId fromId, String relationType, RelationTypeGroup relationTypeGroup, EntityId toId) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;fromId&quot;, fromId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;fromType&quot;, fromId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;relationType&quot;, relationType);</b>
<b class="nc">&nbsp;        params.put(&quot;relationTypeGroup&quot;, relationTypeGroup.name());</b>
<b class="nc">&nbsp;        params.put(&quot;toId&quot;, toId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;toType&quot;, toId.getEntityType().name());</b>
&nbsp;
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;EntityRelation&gt; entityRelation = restTemplate.getForEntity(</b>
&nbsp;                    baseURL + &quot;/api/relation?fromId={fromId}&amp;fromType={fromType}&amp;relationType={relationType}&amp;relationTypeGroup={relationTypeGroup}&amp;toId={toId}&amp;toType={toType}&quot;,
&nbsp;                    EntityRelation.class,
&nbsp;                    params);
<b class="nc">&nbsp;            return Optional.ofNullable(entityRelation.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;EntityRelation&gt; findByFrom(EntityId fromId, RelationTypeGroup relationTypeGroup) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;fromId&quot;, fromId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;fromType&quot;, fromId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;relationTypeGroup&quot;, relationTypeGroup.name());</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/relations?fromId={fromId}&amp;fromType={fromType}&amp;relationTypeGroup={relationTypeGroup}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;EntityRelation&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;EntityRelationInfo&gt; findInfoByFrom(EntityId fromId, RelationTypeGroup relationTypeGroup) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;fromId&quot;, fromId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;fromType&quot;, fromId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;relationTypeGroup&quot;, relationTypeGroup.name());</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/relations/info?fromId={fromId}&amp;fromType={fromType}&amp;relationTypeGroup={relationTypeGroup}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;EntityRelationInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;EntityRelation&gt; findByFrom(EntityId fromId, String relationType, RelationTypeGroup relationTypeGroup) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;fromId&quot;, fromId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;fromType&quot;, fromId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;relationType&quot;, relationType);</b>
<b class="nc">&nbsp;        params.put(&quot;relationTypeGroup&quot;, relationTypeGroup.name());</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/relations?fromId={fromId}&amp;fromType={fromType}&amp;relationType={relationType}&amp;relationTypeGroup={relationTypeGroup}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;EntityRelation&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;EntityRelation&gt; findByTo(EntityId toId, RelationTypeGroup relationTypeGroup) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;toId&quot;, toId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;toType&quot;, toId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;relationTypeGroup&quot;, relationTypeGroup.name());</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/relations?toId={toId}&amp;toType={toType}&amp;relationTypeGroup={relationTypeGroup}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;EntityRelation&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;EntityRelationInfo&gt; findInfoByTo(EntityId toId, RelationTypeGroup relationTypeGroup) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;toId&quot;, toId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;toType&quot;, toId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;relationTypeGroup&quot;, relationTypeGroup.name());</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/relations/info?toId={toId}&amp;toType={toType}&amp;relationTypeGroup={relationTypeGroup}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;EntityRelationInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;EntityRelation&gt; findByTo(EntityId toId, String relationType, RelationTypeGroup relationTypeGroup) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;toId&quot;, toId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;toType&quot;, toId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;relationType&quot;, relationType);</b>
<b class="nc">&nbsp;        params.put(&quot;relationTypeGroup&quot;, relationTypeGroup.name());</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/relations?toId={toId}&amp;toType={toType}&amp;relationType={relationType}&amp;relationTypeGroup={relationTypeGroup}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;EntityRelation&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;EntityRelation&gt; findByQuery(EntityRelationsQuery query) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/relations&quot;,
&nbsp;                HttpMethod.POST,
&nbsp;                new HttpEntity&lt;&gt;(query),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;EntityRelation&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;EntityRelationInfo&gt; findInfoByQuery(EntityRelationsQuery query) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/relations/info&quot;,
&nbsp;                HttpMethod.POST,
&nbsp;                new HttpEntity&lt;&gt;(query),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;EntityRelationInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public EntityRelation makeRelation(String relationType, EntityId idFrom, EntityId idTo) {
<b class="nc">&nbsp;        EntityRelation relation = new EntityRelation();</b>
<b class="nc">&nbsp;        relation.setFrom(idFrom);</b>
<b class="nc">&nbsp;        relation.setTo(idTo);</b>
<b class="nc">&nbsp;        relation.setType(relationType);</b>
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/relation&quot;, relation, EntityRelation.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;EntityView&gt; getEntityViewById(EntityViewId entityViewId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;EntityView&gt; entityView = restTemplate.getForEntity(baseURL + &quot;/api/entityView/{entityViewId}&quot;, EntityView.class, entityViewId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(entityView.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;EntityViewInfo&gt; getEntityViewInfoById(EntityViewId entityViewId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;EntityViewInfo&gt; entityView = restTemplate.getForEntity(baseURL + &quot;/api/entityView/info/{entityViewId}&quot;, EntityViewInfo.class, entityViewId);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(entityView.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public EntityView saveEntityView(EntityView entityView) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/entityView&quot;, entityView, EntityView.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteEntityView(EntityViewId entityViewId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/entityView/{entityViewId}&quot;, entityViewId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;EntityView&gt; getTenantEntityView(String entityViewName) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;EntityView&gt; entityView = restTemplate.getForEntity(baseURL + &quot;/api/tenant/entityViews?entityViewName={entityViewName}&quot;, EntityView.class, entityViewName);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(entityView.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;EntityView&gt; assignEntityViewToCustomer(CustomerId customerId, EntityViewId entityViewId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;EntityView&gt; entityView = restTemplate.postForEntity(baseURL + &quot;/api/customer/{customerId}/entityView/{entityViewId}&quot;, null, EntityView.class, customerId.getId(), entityViewId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(entityView.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;EntityView&gt; unassignEntityViewFromCustomer(EntityViewId entityViewId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;EntityView&gt; entityView = restTemplate.exchange(baseURL + &quot;/api/customer/entityView/{entityViewId}&quot;, HttpMethod.DELETE, HttpEntity.EMPTY, EntityView.class, entityViewId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(entityView.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EntityView&gt; getCustomerEntityViews(CustomerId customerId, String entityViewType, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;customerId&quot;, customerId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, entityViewType);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/customer/{customerId}/entityViews?type={type}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EntityView&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EntityViewInfo&gt; getCustomerEntityViewInfos(CustomerId customerId, String entityViewType, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;customerId&quot;, customerId.toString());</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, entityViewType);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/customer/{customerId}/entityViewInfos?type={type}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EntityViewInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EntityView&gt; getTenantEntityViews(String entityViewType, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, entityViewType);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/tenant/entityViews?type={type}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EntityView&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EntityViewInfo&gt; getTenantEntityViewInfos(String entityViewType, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, entityViewType);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/tenant/entityViewInfos?type={type}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EntityViewInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;EntityView&gt; findByQuery(EntityViewSearchQuery query) {
<b class="nc">&nbsp;        return restTemplate.exchange(baseURL + &quot;/api/entityViews&quot;, HttpMethod.POST, new HttpEntity&lt;&gt;(query), new ParameterizedTypeReference&lt;List&lt;EntityView&gt;&gt;() {</b>
<b class="nc">&nbsp;        }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;EntitySubtype&gt; getEntityViewTypes() {
<b class="nc">&nbsp;        return restTemplate.exchange(baseURL + &quot;/api/entityView/types&quot;, HttpMethod.GET, HttpEntity.EMPTY, new ParameterizedTypeReference&lt;List&lt;EntitySubtype&gt;&gt;() {</b>
<b class="nc">&nbsp;        }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;EntityView&gt; assignEntityViewToPublicCustomer(EntityViewId entityViewId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;EntityView&gt; entityView = restTemplate.postForEntity(baseURL + &quot;/api/customer/public/entityView/{entityViewId}&quot;, null, EntityView.class, entityViewId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(entityView.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EventInfo&gt; getEvents(EntityId entityId, String eventType, TenantId tenantId, TimePageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;entityType&quot;, entityId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;entityId&quot;, entityId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;eventType&quot;, eventType);</b>
<b class="nc">&nbsp;        params.put(&quot;tenantId&quot;, tenantId.getId().toString());</b>
<b class="nc">&nbsp;        addTimePageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/events/{entityType}/{entityId}/{eventType}?tenantId={tenantId}&amp;&quot; + getTimeUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EventInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EventInfo&gt; getEvents(EntityId entityId, TenantId tenantId, TimePageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;entityType&quot;, entityId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;entityId&quot;, entityId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;tenantId&quot;, tenantId.getId().toString());</b>
<b class="nc">&nbsp;        addTimePageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/events/{entityType}/{entityId}?tenantId={tenantId}&amp;&quot; + getTimeUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EventInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public OAuth2ClientRegistrationTemplate saveClientRegistrationTemplate(OAuth2ClientRegistrationTemplate clientRegistrationTemplate) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/oauth2/config/template&quot;, clientRegistrationTemplate, OAuth2ClientRegistrationTemplate.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteClientRegistrationTemplate(OAuth2ClientRegistrationTemplateId oAuth2ClientRegistrationTemplateId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/oauth2/config/template/{clientRegistrationTemplateId}&quot;, oAuth2ClientRegistrationTemplateId);</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;OAuth2ClientRegistrationTemplate&gt; getClientRegistrationTemplates() {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/oauth2/config/template&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;OAuth2ClientRegistrationTemplate&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;OAuth2ClientLoginInfo&gt; getOAuth2Clients(String pkgName, PlatformType platformType) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        StringBuilder urlBuilder = new StringBuilder(baseURL);</b>
<b class="nc">&nbsp;        urlBuilder.append(&quot;/api/noauth/oauth2Clients&quot;);</b>
<b class="nc">&nbsp;        if (pkgName != null) {</b>
<b class="nc">&nbsp;            urlBuilder.append(&quot;?pkgName={pkgName}&quot;);</b>
<b class="nc">&nbsp;            params.put(&quot;pkgName&quot;, pkgName);</b>
&nbsp;        }
<b class="nc">&nbsp;        if (platformType != null) {</b>
<b class="nc">&nbsp;            if (pkgName != null) {</b>
<b class="nc">&nbsp;                urlBuilder.append(&quot;&amp;&quot;);</b>
&nbsp;            } else {
<b class="nc">&nbsp;                urlBuilder.append(&quot;?&quot;);</b>
&nbsp;            }
<b class="nc">&nbsp;            urlBuilder.append(&quot;platform={platform}&quot;);</b>
<b class="nc">&nbsp;            params.put(&quot;platform&quot;, platformType.name());</b>
&nbsp;        }
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                urlBuilder.toString(),</b>
&nbsp;                HttpMethod.POST,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;OAuth2ClientLoginInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;OAuth2ClientInfo&gt; getTenantOAuth2Clients() {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/oauth2/client/infos&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;OAuth2ClientInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;OAuth2Client&gt; getOauth2ClientById(OAuth2ClientId oAuth2ClientId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;OAuth2Client&gt; oauth2Client = restTemplate.getForEntity(baseURL + &quot;/api/oauth2/client/{id}&quot;, OAuth2Client.class, oAuth2ClientId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(oauth2Client.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public OAuth2Client saveOAuth2Client(OAuth2Client oAuth2Client) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/oauth2/client&quot;, oAuth2Client, OAuth2Client.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteOauth2CLient(OAuth2ClientId oAuth2ClientId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/oauth2/client/{id}&quot;, oAuth2ClientId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;DomainInfo&gt; getTenantDomainInfos(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/domain/infos?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;DomainInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;DomainInfo&gt; getDomainInfoById(DomainId domainId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;DomainInfo&gt; domainInfo = restTemplate.getForEntity(baseURL + &quot;/api/domain/info/{id}&quot;, DomainInfo.class, domainId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(domainInfo.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Domain saveDomain(Domain domain) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/domain&quot;, domain, Domain.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteDomain(DomainId domainId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/domain/{id}&quot;, domainId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public void updateDomainOauth2Clients(DomainId domainId, UUID[] oauth2ClientIds) {
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/domain/{id}/oauth2Clients&quot;, oauth2ClientIds, domainId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;MobileApp&gt; getTenantMobileApps(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/mobile/app?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;MobileApp&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;MobileApp&gt; getMobileAppById(MobileAppId mobileAppId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;MobileApp&gt; mobileApp = restTemplate.getForEntity(baseURL + &quot;/api/mobile/app/{id}&quot;, MobileApp.class, mobileAppId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(mobileApp.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public MobileApp saveMobileApp(MobileApp mobileApp) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/mobile/app&quot;, mobileApp, MobileApp.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteMobileApp(MobileAppId mobileAppId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/mobile/app/{id}&quot;, mobileAppId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;MobileAppBundleInfo&gt; getTenantMobileBundleInfos(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/mobile/bundle/infos?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;MobileAppBundleInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;MobileAppBundle&gt; getMobileBundleById(MobileAppBundleId mobileAppBundleId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;MobileAppBundle&gt; mobileApp = restTemplate.getForEntity(baseURL + &quot;/api/mobile/bundle/{id}&quot;, MobileAppBundle.class, mobileAppBundleId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(mobileApp.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public MobileAppBundle saveMobileBundle(MobileAppBundle mobileAppBundle) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/mobile/bundle&quot;, mobileAppBundle, MobileAppBundle.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteMobileBundle(MobileAppBundleId mobileAppBundleId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/mobile/bundle/{id}&quot;, mobileAppBundleId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public void updateMobileAppBundleOauth2Clients(MobileAppBundleId mobileAppBundleId, UUID[] oauth2ClientIds) {
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/mobile/bundle/{id}/oauth2Clients&quot;, oauth2ClientIds, mobileAppBundleId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public String getLoginProcessingUrl() {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/oauth2/loginProcessingUrl&quot;, String.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void handleOneWayDeviceRPCRequest(DeviceId deviceId, JsonNode requestBody) {
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/rpc/oneway/{deviceId}&quot;, requestBody, deviceId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public JsonNode handleTwoWayDeviceRPCRequest(DeviceId deviceId, JsonNode requestBody) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/rpc/twoway/{deviceId}&quot;,
&nbsp;                HttpMethod.POST,
&nbsp;                new HttpEntity&lt;&gt;(requestBody),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;JsonNode&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                deviceId.getId()).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;RuleChain&gt; getRuleChainById(RuleChainId ruleChainId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;RuleChain&gt; ruleChain = restTemplate.getForEntity(baseURL + &quot;/api/ruleChain/{ruleChainId}&quot;, RuleChain.class, ruleChainId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(ruleChain.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;RuleChainMetaData&gt; getRuleChainMetaData(RuleChainId ruleChainId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;RuleChainMetaData&gt; ruleChainMetaData = restTemplate.getForEntity(baseURL + &quot;/api/ruleChain/{ruleChainId}/metadata&quot;, RuleChainMetaData.class, ruleChainId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(ruleChainMetaData.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public RuleChain saveRuleChain(RuleChain ruleChain) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/ruleChain&quot;, ruleChain, RuleChain.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public RuleChain saveRuleChain(DefaultRuleChainCreateRequest request) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/ruleChain/device/default&quot;, request, RuleChain.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;RuleChain&gt; setRootRuleChain(RuleChainId ruleChainId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;RuleChain&gt; ruleChain = restTemplate.postForEntity(baseURL + &quot;/api/ruleChain/{ruleChainId}/root&quot;, null, RuleChain.class, ruleChainId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(ruleChain.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public RuleChainMetaData saveRuleChainMetaData(RuleChainMetaData ruleChainMetaData) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/ruleChain/metadata&quot;, ruleChainMetaData, RuleChainMetaData.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;RuleChain&gt; getRuleChains(PageLink pageLink) {
<b class="nc">&nbsp;        return getRuleChains(RuleChainType.CORE, pageLink);</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;RuleChain&gt; getRuleChains(RuleChainType ruleChainType, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, ruleChainType.name());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/ruleChains?type={type}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;RuleChain&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteRuleChain(RuleChainId ruleChainId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/ruleChain/{ruleChainId}&quot;, ruleChainId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;JsonNode&gt; getLatestRuleNodeDebugInput(RuleNodeId ruleNodeId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;JsonNode&gt; jsonNode = restTemplate.getForEntity(baseURL + &quot;/api/ruleNode/{ruleNodeId}/debugIn&quot;, JsonNode.class, ruleNodeId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(jsonNode.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;JsonNode&gt; testScript(JsonNode inputParams) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;JsonNode&gt; jsonNode = restTemplate.postForEntity(baseURL + &quot;/api/ruleChain/testScript&quot;, inputParams, JsonNode.class);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(jsonNode.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public RuleChainData exportRuleChains(int limit) {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/ruleChains/export?limit=&quot; + limit, RuleChainData.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void importRuleChains(RuleChainData ruleChainData, boolean overwrite) {
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/ruleChains/import?overwrite=&quot; + overwrite, ruleChainData);</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;String&gt; getAttributeKeys(EntityId entityId) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/plugins/telemetry/{entityType}/{entityId}/keys/attributes&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;String&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                entityId.getEntityType().name(),</b>
<b class="nc">&nbsp;                entityId.getId().toString()).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;String&gt; getAttributeKeysByScope(EntityId entityId, String scope) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/plugins/telemetry/{entityType}/{entityId}/keys/attributes/{scope}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;String&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                entityId.getEntityType().name(),</b>
<b class="nc">&nbsp;                entityId.getId().toString(),</b>
<b class="nc">&nbsp;                scope).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;AttributeKvEntry&gt; getAttributeKvEntries(EntityId entityId, List&lt;String&gt; keys) {
<b class="nc">&nbsp;        List&lt;JsonNode&gt; attributes = restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/plugins/telemetry/{entityType}/{entityId}/values/attributes?keys={keys}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;JsonNode&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                entityId.getEntityType().name(),</b>
<b class="nc">&nbsp;                entityId.getId(),</b>
<b class="nc">&nbsp;                listToString(keys)).getBody();</b>
&nbsp;
<b class="nc">&nbsp;        return RestJsonConverter.toAttributes(attributes);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Future&lt;List&lt;AttributeKvEntry&gt;&gt; getAttributeKvEntriesAsync(EntityId entityId, List&lt;String&gt; keys) {
<b class="nc">&nbsp;        return getExecutor().submit(() -&gt; getAttributeKvEntries(entityId, keys));</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;AttributeKvEntry&gt; getAttributesByScope(EntityId entityId, String scope, List&lt;String&gt; keys) {
<b class="nc">&nbsp;        List&lt;JsonNode&gt; attributes = restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/plugins/telemetry/{entityType}/{entityId}/values/attributes/{scope}?keys={keys}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;JsonNode&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                entityId.getEntityType().name(),</b>
<b class="nc">&nbsp;                entityId.getId().toString(),</b>
&nbsp;                scope,
<b class="nc">&nbsp;                listToString(keys)).getBody();</b>
&nbsp;
<b class="nc">&nbsp;        return RestJsonConverter.toAttributes(attributes);</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;String&gt; getTimeseriesKeys(EntityId entityId) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/plugins/telemetry/{entityType}/{entityId}/keys/timeseries&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;String&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                entityId.getEntityType().name(),</b>
<b class="nc">&nbsp;                entityId.getId().toString()).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;TsKvEntry&gt; getLatestTimeseries(EntityId entityId, List&lt;String&gt; keys) {
<b class="nc">&nbsp;        return getLatestTimeseries(entityId, keys, true);</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;TsKvEntry&gt; getLatestTimeseries(EntityId entityId, List&lt;String&gt; keys, boolean useStrictDataTypes) {
<b class="nc">&nbsp;        Map&lt;String, List&lt;JsonNode&gt;&gt; timeseries = restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/plugins/telemetry/{entityType}/{entityId}/values/timeseries?keys={keys}&amp;useStrictDataTypes={useStrictDataTypes}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;Map&lt;String, List&lt;JsonNode&gt;&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                entityId.getEntityType().name(),</b>
<b class="nc">&nbsp;                entityId.getId().toString(),</b>
<b class="nc">&nbsp;                listToString(keys),</b>
<b class="nc">&nbsp;                useStrictDataTypes).getBody();</b>
&nbsp;
<b class="nc">&nbsp;        return RestJsonConverter.toTimeseries(timeseries);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public List&lt;TsKvEntry&gt; getTimeseries(EntityId entityId, List&lt;String&gt; keys, Long interval, Aggregation agg, TimePageLink pageLink) {
<b class="nc">&nbsp;        return getTimeseries(entityId, keys, interval, agg, pageLink, true);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public List&lt;TsKvEntry&gt; getTimeseries(EntityId entityId, List&lt;String&gt; keys, Long interval, Aggregation agg, TimePageLink pageLink, boolean useStrictDataTypes) {
<b class="nc">&nbsp;        SortOrder sortOrder = pageLink.getSortOrder();</b>
<b class="nc">&nbsp;        return getTimeseries(entityId, keys, interval, agg, sortOrder != null ? sortOrder.getDirection() : null, pageLink.getStartTime(), pageLink.getEndTime(), 100, useStrictDataTypes);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public List&lt;TsKvEntry&gt; getTimeseries(EntityId entityId, List&lt;String&gt; keys, Long interval, Aggregation agg, SortOrder.Direction sortOrder, Long startTime, Long endTime, Integer limit, boolean useStrictDataTypes) {
<b class="nc">&nbsp;        return getTimeseries(entityId, keys, interval, null, null, agg, sortOrder, startTime, endTime, limit, useStrictDataTypes);</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;TsKvEntry&gt; getTimeseries(EntityId entityId, List&lt;String&gt; keys, Long interval, IntervalType intervalType, String timeZone, Aggregation agg, SortOrder.Direction sortOrder, Long startTime, Long endTime, Integer limit, boolean useStrictDataTypes) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;entityType&quot;, entityId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;entityId&quot;, entityId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;keys&quot;, listToString(keys));</b>
<b class="nc">&nbsp;        params.put(&quot;interval&quot;, interval == null ? &quot;0&quot; : interval.toString());</b>
<b class="nc">&nbsp;        params.put(&quot;agg&quot;, agg == null ? &quot;NONE&quot; : agg.name());</b>
<b class="nc">&nbsp;        params.put(&quot;limit&quot;, limit != null ? limit.toString() : &quot;100&quot;);</b>
<b class="nc">&nbsp;        params.put(&quot;orderBy&quot;, sortOrder != null ? sortOrder.name() : &quot;DESC&quot;);</b>
<b class="nc">&nbsp;        params.put(&quot;useStrictDataTypes&quot;, Boolean.toString(useStrictDataTypes));</b>
&nbsp;
<b class="nc">&nbsp;        StringBuilder urlBuilder = new StringBuilder(baseURL);</b>
<b class="nc">&nbsp;        urlBuilder.append(&quot;/api/plugins/telemetry/{entityType}/{entityId}/values/timeseries?keys={keys}&amp;interval={interval}&amp;limit={limit}&amp;agg={agg}&amp;useStrictDataTypes={useStrictDataTypes}&amp;orderBy={orderBy}&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        if (intervalType != null) {</b>
<b class="nc">&nbsp;            urlBuilder.append(&quot;&amp;intervalType={intervalType}&quot;);</b>
<b class="nc">&nbsp;            params.put(&quot;intervalType&quot;, intervalType.name());</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (timeZone != null) {</b>
<b class="nc">&nbsp;            urlBuilder.append(&quot;&amp;timeZone={timeZone}&quot;);</b>
<b class="nc">&nbsp;            params.put(&quot;timeZone&quot;, timeZone);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (startTime != null) {</b>
<b class="nc">&nbsp;            urlBuilder.append(&quot;&amp;startTs={startTs}&quot;);</b>
<b class="nc">&nbsp;            params.put(&quot;startTs&quot;, String.valueOf(startTime));</b>
&nbsp;        }
<b class="nc">&nbsp;        if (endTime != null) {</b>
<b class="nc">&nbsp;            urlBuilder.append(&quot;&amp;endTs={endTs}&quot;);</b>
<b class="nc">&nbsp;            params.put(&quot;endTs&quot;, String.valueOf(endTime));</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        Map&lt;String, List&lt;JsonNode&gt;&gt; timeseries = restTemplate.exchange(</b>
<b class="nc">&nbsp;                urlBuilder.toString(),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;Map&lt;String, List&lt;JsonNode&gt;&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;
<b class="nc">&nbsp;        return RestJsonConverter.toTimeseries(timeseries);</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean saveDeviceAttributes(DeviceId deviceId, String scope, JsonNode request) {
<b class="nc">&nbsp;        return restTemplate</b>
<b class="nc">&nbsp;                .postForEntity(baseURL + &quot;/api/plugins/telemetry/{deviceId}/{scope}&quot;, request, Object.class, deviceId.getId().toString(), scope)</b>
<b class="nc">&nbsp;                .getStatusCode()</b>
<b class="nc">&nbsp;                .is2xxSuccessful();</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean saveEntityAttributesV1(EntityId entityId, String scope, JsonNode request) {
<b class="nc">&nbsp;        return restTemplate</b>
<b class="nc">&nbsp;                .postForEntity(</b>
&nbsp;                        baseURL + &quot;/api/plugins/telemetry/{entityType}/{entityId}/{scope}&quot;,
&nbsp;                        request,
&nbsp;                        Object.class,
<b class="nc">&nbsp;                        entityId.getEntityType().name(),</b>
<b class="nc">&nbsp;                        entityId.getId().toString(),</b>
&nbsp;                        scope)
<b class="nc">&nbsp;                .getStatusCode()</b>
<b class="nc">&nbsp;                .is2xxSuccessful();</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean saveEntityAttributesV2(EntityId entityId, String scope, JsonNode request) {
<b class="nc">&nbsp;        return restTemplate</b>
<b class="nc">&nbsp;                .postForEntity(</b>
&nbsp;                        baseURL + &quot;/api/plugins/telemetry/{entityType}/{entityId}/attributes/{scope}&quot;,
&nbsp;                        request,
&nbsp;                        Object.class,
<b class="nc">&nbsp;                        entityId.getEntityType().name(),</b>
<b class="nc">&nbsp;                        entityId.getId().toString(),</b>
&nbsp;                        scope)
<b class="nc">&nbsp;                .getStatusCode()</b>
<b class="nc">&nbsp;                .is2xxSuccessful();</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean saveEntityTelemetry(EntityId entityId, String scope, JsonNode request) {
<b class="nc">&nbsp;        return restTemplate</b>
<b class="nc">&nbsp;                .postForEntity(</b>
&nbsp;                        baseURL + &quot;/api/plugins/telemetry/{entityType}/{entityId}/timeseries/{scope}&quot;,
&nbsp;                        request,
&nbsp;                        Object.class,
<b class="nc">&nbsp;                        entityId.getEntityType().name(),</b>
<b class="nc">&nbsp;                        entityId.getId().toString(),</b>
&nbsp;                        scope)
<b class="nc">&nbsp;                .getStatusCode()</b>
<b class="nc">&nbsp;                .is2xxSuccessful();</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean saveEntityTelemetryWithTTL(EntityId entityId, String scope, Long ttl, JsonNode request) {
<b class="nc">&nbsp;        return restTemplate</b>
<b class="nc">&nbsp;                .postForEntity(</b>
&nbsp;                        baseURL + &quot;/api/plugins/telemetry/{entityType}/{entityId}/timeseries/{scope}/{ttl}&quot;,
&nbsp;                        request,
&nbsp;                        Object.class,
<b class="nc">&nbsp;                        entityId.getEntityType().name(),</b>
<b class="nc">&nbsp;                        entityId.getId().toString(),</b>
&nbsp;                        scope,
&nbsp;                        ttl)
<b class="nc">&nbsp;                .getStatusCode()</b>
<b class="nc">&nbsp;                .is2xxSuccessful();</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean deleteEntityTimeseries(EntityId entityId,
&nbsp;                                          List&lt;String&gt; keys,
&nbsp;                                          boolean deleteAllDataForKeys,
&nbsp;                                          Long startTs,
&nbsp;                                          Long endTs,
&nbsp;                                          boolean rewriteLatestIfDeleted,
&nbsp;                                          boolean deleteLatest) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;entityType&quot;, entityId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;entityId&quot;, entityId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;keys&quot;, listToString(keys));</b>
<b class="nc">&nbsp;        params.put(&quot;deleteAllDataForKeys&quot;, String.valueOf(deleteAllDataForKeys));</b>
<b class="nc">&nbsp;        params.put(&quot;startTs&quot;, startTs.toString());</b>
<b class="nc">&nbsp;        params.put(&quot;endTs&quot;, endTs.toString());</b>
<b class="nc">&nbsp;        params.put(&quot;rewriteLatestIfDeleted&quot;, String.valueOf(rewriteLatestIfDeleted));</b>
<b class="nc">&nbsp;        params.put(&quot;deleteLatest&quot;, String.valueOf(deleteLatest));</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate</b>
<b class="nc">&nbsp;                .exchange(</b>
&nbsp;                        baseURL + &quot;/api/plugins/telemetry/{entityType}/{entityId}/timeseries/delete?keys={keys}&amp;deleteAllDataForKeys={deleteAllDataForKeys}&amp;startTs={startTs}&amp;endTs={endTs}&amp;rewriteLatestIfDeleted={rewriteLatestIfDeleted}&amp;deleteLatest={deleteLatest}&quot;,
&nbsp;                        HttpMethod.DELETE,
&nbsp;                        HttpEntity.EMPTY,
&nbsp;                        Object.class,
&nbsp;                        params)
<b class="nc">&nbsp;                .getStatusCode()</b>
<b class="nc">&nbsp;                .is2xxSuccessful();</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean deleteEntityLatestTimeseries(EntityId entityId, List&lt;String&gt; keys) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;entityType&quot;, entityId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;entityId&quot;, entityId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;keys&quot;, listToString(keys));</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate</b>
<b class="nc">&nbsp;                .exchange(</b>
&nbsp;                        baseURL + &quot;/api/plugins/telemetry/{entityType}/{entityId}/timeseries/latest/delete?keys={keys}&quot;,
&nbsp;                        HttpMethod.DELETE,
&nbsp;                        HttpEntity.EMPTY,
&nbsp;                        Object.class,
&nbsp;                        params)
<b class="nc">&nbsp;                .getStatusCode()</b>
<b class="nc">&nbsp;                .is2xxSuccessful();</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean deleteEntityAttributes(DeviceId deviceId, String scope, List&lt;String&gt; keys) {
<b class="nc">&nbsp;        return restTemplate</b>
<b class="nc">&nbsp;                .exchange(</b>
&nbsp;                        baseURL + &quot;/api/plugins/telemetry/{deviceId}/{scope}?keys={keys}&quot;,
&nbsp;                        HttpMethod.DELETE,
&nbsp;                        HttpEntity.EMPTY,
&nbsp;                        Object.class,
<b class="nc">&nbsp;                        deviceId.getId().toString(),</b>
&nbsp;                        scope,
<b class="nc">&nbsp;                        listToString(keys))</b>
<b class="nc">&nbsp;                .getStatusCode()</b>
<b class="nc">&nbsp;                .is2xxSuccessful();</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean deleteEntityAttributes(EntityId entityId, String scope, List&lt;String&gt; keys) {
<b class="nc">&nbsp;        return restTemplate</b>
<b class="nc">&nbsp;                .exchange(</b>
&nbsp;                        baseURL + &quot;/api/plugins/telemetry/{entityType}/{entityId}/{scope}?keys={keys}&quot;,
&nbsp;                        HttpMethod.DELETE,
&nbsp;                        HttpEntity.EMPTY,
&nbsp;                        Object.class,
<b class="nc">&nbsp;                        entityId.getEntityType().name(),</b>
<b class="nc">&nbsp;                        entityId.getId().toString(),</b>
&nbsp;                        scope,
<b class="nc">&nbsp;                        listToString(keys))</b>
<b class="nc">&nbsp;                .getStatusCode()</b>
<b class="nc">&nbsp;                .is2xxSuccessful();</b>
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Tenant&gt; getTenantById(TenantId tenantId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Tenant&gt; tenant = restTemplate.getForEntity(baseURL + &quot;/api/tenant/{tenantId}&quot;, Tenant.class, tenantId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(tenant.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;TenantInfo&gt; getTenantInfoById(TenantId tenantId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;TenantInfo&gt; tenant = restTemplate.getForEntity(baseURL + &quot;/api/tenant/info/{tenantId}&quot;, TenantInfo.class, tenantId);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(tenant.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Tenant saveTenant(Tenant tenant) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/tenant&quot;, tenant, Tenant.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteTenant(TenantId tenantId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/tenant/{tenantId}&quot;, tenantId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;Tenant&gt; getTenants(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/tenants?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;Tenant&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;TenantInfo&gt; getTenantInfos(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/tenantInfos?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;TenantInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public UsageInfo getUsageInfo() {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/usage&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                UsageInfo.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;TenantProfile&gt; getTenantProfileById(TenantProfileId tenantProfileId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;TenantProfile&gt; tenantProfile = restTemplate.getForEntity(baseURL + &quot;/api/tenantProfile/{tenantProfileId}&quot;, TenantProfile.class, tenantProfileId);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(tenantProfile.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;EntityInfo&gt; getTenantProfileInfoById(TenantProfileId tenantProfileId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;EntityInfo&gt; entityInfo = restTemplate.getForEntity(baseURL + &quot;/api/tenantProfileInfo/{tenantProfileId}&quot;, EntityInfo.class, tenantProfileId);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(entityInfo.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public EntityInfo getDefaultTenantProfileInfo() {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/tenantProfileInfo/default&quot;, EntityInfo.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public TenantProfile saveTenantProfile(TenantProfile tenantProfile) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/tenantProfile&quot;, tenantProfile, TenantProfile.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteTenantProfile(TenantProfileId tenantProfileId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/tenantProfile/{tenantProfileId}&quot;, tenantProfileId);</b>
&nbsp;    }
&nbsp;
&nbsp;    public TenantProfile setDefaultTenantProfile(TenantProfileId tenantProfileId) {
<b class="nc">&nbsp;        return restTemplate.exchange(baseURL + &quot;/api/tenantProfile/{tenantProfileId}/default&quot;, HttpMethod.POST, HttpEntity.EMPTY, TenantProfile.class, tenantProfileId).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;TenantProfile&gt; getTenantProfiles(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/tenantProfiles?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;TenantProfile&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EntityInfo&gt; getTenantProfileInfos(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/tenantProfileInfos?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EntityInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;User&gt; getUserById(UserId userId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;User&gt; user = restTemplate.getForEntity(baseURL + &quot;/api/user/{userId}&quot;, User.class, userId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(user.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Boolean isUserTokenAccessEnabled() {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/user/tokenAccessEnabled&quot;, Boolean.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;JsonNode&gt; getUserToken(UserId userId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;JsonNode&gt; userToken = restTemplate.getForEntity(baseURL + &quot;/api/user/{userId}/token&quot;, JsonNode.class, userId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(userToken.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public User saveUser(User user, boolean sendActivationMail) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/user?sendActivationMail={sendActivationMail}&quot;, user, User.class, sendActivationMail).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void sendActivationEmail(String email) {
<b class="nc">&nbsp;        restTemplate.postForLocation(baseURL + &quot;/api/user/sendActivationMail?email={email}&quot;, null, email);</b>
&nbsp;    }
&nbsp;
&nbsp;    public String getActivationLink(UserId userId) {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/user/{userId}/activationLink&quot;, String.class, userId.getId()).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteUser(UserId userId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/user/{userId}&quot;, userId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;User&gt; getUsers(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/users?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;User&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;UserEmailInfo&gt; getUsersByQuery(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/users/info?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;UserEmailInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;User&gt; getTenantAdmins(TenantId tenantId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;tenantId&quot;, tenantId.getId().toString());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/tenant/{tenantId}/users?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;User&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;User&gt; getCustomerUsers(CustomerId customerId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;customerId&quot;, customerId.getId().toString());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/customer/{customerId}/users?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;User&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;UserEmailInfo&gt; getUsersForAssign(AlarmId alarmId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;alarmId&quot;, alarmId.getId().toString());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/users/assign/{alarmId}&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;UserEmailInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setUserCredentialsEnabled(UserId userId, boolean userCredentialsEnabled) {
<b class="nc">&nbsp;        restTemplate.postForLocation(</b>
&nbsp;                baseURL + &quot;/api/user/{userId}/userCredentialsEnabled?userCredentialsEnabled={userCredentialsEnabled}&quot;,
&nbsp;                null,
<b class="nc">&nbsp;                userId.getId(),</b>
<b class="nc">&nbsp;                userCredentialsEnabled);</b>
&nbsp;    }
&nbsp;
&nbsp;    public ApiKey saveApiKey(ApiKeyInfo apiKeyInfo) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/apiKey&quot;, apiKeyInfo, ApiKey.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;ApiKeyInfo&gt; getUserApiKeys(UserId userId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;userId&quot;, userId.getId().toString());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/apiKeys/{userId}?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;ApiKeyInfo&gt;&gt;() {}, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public ApiKeyInfo updateApiKeyDescription(ApiKeyId apiKeyId, String description) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/apiKey/{id}/description&quot;,
&nbsp;                HttpMethod.PUT,
&nbsp;                new HttpEntity&lt;&gt;(description),
&nbsp;                ApiKeyInfo.class,
<b class="nc">&nbsp;                apiKeyId.getId()).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public ApiKeyInfo enableApiKey(ApiKeyId apiKeyId, boolean enabled) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/apiKey/{id}/enabled/{enabledValue}&quot;,
&nbsp;                HttpMethod.PUT,
&nbsp;                HttpEntity.EMPTY,
&nbsp;                ApiKeyInfo.class,
<b class="nc">&nbsp;                apiKeyId.getId(),</b>
<b class="nc">&nbsp;                enabled).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteApiKey(ApiKeyId apiKeyId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/apiKey/{id}&quot;, apiKeyId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;WidgetsBundle&gt; getWidgetsBundleById(WidgetsBundleId widgetsBundleId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;WidgetsBundle&gt; widgetsBundle =</b>
<b class="nc">&nbsp;                    restTemplate.getForEntity(baseURL + &quot;/api/widgetsBundle/{widgetsBundleId}&quot;, WidgetsBundle.class, widgetsBundleId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(widgetsBundle.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public WidgetsBundle saveWidgetsBundle(WidgetsBundle widgetsBundle) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/widgetsBundle&quot;, widgetsBundle, WidgetsBundle.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void updateWidgetsBundleWidgetTypes(WidgetsBundleId widgetsBundleId, List&lt;WidgetTypeId&gt; widgetTypeIds) {
<b class="nc">&nbsp;        var httpEntity = new HttpEntity&lt;&gt;(widgetTypeIds.stream()</b>
<b class="nc">&nbsp;                .map(widgetTypeId -&gt; widgetTypeId.getId().toString())</b>
<b class="nc">&nbsp;                .collect(Collectors.toList()));</b>
<b class="nc">&nbsp;        restTemplate.exchange(baseURL + &quot;/api/widgetsBundle/{widgetsBundleId}/widgetTypes&quot;,</b>
<b class="nc">&nbsp;                HttpMethod.POST, httpEntity, Void.class, widgetsBundleId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public void updateWidgetsBundleWidgetFqns(WidgetsBundleId widgetsBundleId, List&lt;String&gt; widgetTypeFqns) {
<b class="nc">&nbsp;        restTemplate.exchange(baseURL + &quot;/api/widgetsBundle/{widgetsBundleId}/widgetTypeFqns&quot;,</b>
<b class="nc">&nbsp;                HttpMethod.POST, new HttpEntity&lt;&gt;(widgetTypeFqns), Void.class, widgetsBundleId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteWidgetsBundle(WidgetsBundleId widgetsBundleId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/widgetsBundle/{widgetsBundleId}&quot;, widgetsBundleId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;WidgetsBundle&gt; getWidgetsBundles(PageLink pageLink) {
<b class="nc">&nbsp;        return getWidgetsBundles(pageLink, null, null);</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;WidgetsBundle&gt; getWidgetsBundles(PageLink pageLink, Boolean tenantOnly, Boolean fullSearch) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        addTenantOnlyAndFullSearchToParams(tenantOnly, fullSearch, params);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/widgetsBundles?&quot; + getUrlParams(pageLink) + getTenantOnlyAndFullSearchUrlParams(tenantOnly, fullSearch),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;WidgetsBundle&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;WidgetsBundle&gt; getWidgetsBundles() {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/widgetsBundles&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;WidgetsBundle&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;WidgetTypeDetails&gt; getWidgetTypeById(WidgetTypeId widgetTypeId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;WidgetTypeDetails&gt; widgetTypeDetails =</b>
<b class="nc">&nbsp;                    restTemplate.getForEntity(baseURL + &quot;/api/widgetType/{widgetTypeId}&quot;, WidgetTypeDetails.class, widgetTypeId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(widgetTypeDetails.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;WidgetTypeInfo&gt; getWidgetTypeInfoById(WidgetTypeId widgetTypeId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;WidgetTypeInfo&gt; widgetTypeInfo =</b>
<b class="nc">&nbsp;                    restTemplate.getForEntity(baseURL + &quot;/api/widgetTypeInfo/{widgetTypeId}&quot;, WidgetTypeInfo.class, widgetTypeId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(widgetTypeInfo.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            }
&nbsp;            throw exception;
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public WidgetTypeDetails saveWidgetType(WidgetTypeDetails widgetTypeDetails) {
<b class="nc">&nbsp;        return saveWidgetType(widgetTypeDetails, null);</b>
&nbsp;    }
&nbsp;
&nbsp;    public WidgetTypeDetails saveWidgetType(WidgetTypeDetails widgetTypeDetails, Boolean updateExistingByFqn) {
<b class="nc">&nbsp;        if (updateExistingByFqn == null) {</b>
<b class="nc">&nbsp;            return restTemplate.postForEntity(baseURL + &quot;/api/widgetType&quot;, widgetTypeDetails, WidgetTypeDetails.class).getBody();</b>
&nbsp;        }
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/widgetType?updateExistingByFqn={updateExistingByFqn}&quot;, widgetTypeDetails, WidgetTypeDetails.class, updateExistingByFqn).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteWidgetType(WidgetTypeId widgetTypeId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/widgetType/{widgetTypeId}&quot;, widgetTypeId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;WidgetTypeInfo&gt; getWidgetTypes(PageLink pageLink) {
<b class="nc">&nbsp;        return getWidgetTypes(pageLink, null, null, null, null);</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;WidgetTypeInfo&gt; getWidgetTypes(PageLink pageLink, Boolean tenantOnly, Boolean fullSearch,
&nbsp;                                                   DeprecatedFilter deprecatedFilter, List&lt;String&gt; widgetTypeList) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        addWidgetInfoFiltersToParams(tenantOnly, fullSearch, deprecatedFilter, widgetTypeList, params);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/widgetTypes?&quot; + getUrlParams(pageLink) +</b>
<b class="nc">&nbsp;                        getWidgetTypeInfoPageRequestUrlParams(tenantOnly, fullSearch, deprecatedFilter, widgetTypeList),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;WidgetTypeInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated // current name in the controller: getBundleWidgetTypesByBundleAlias
&nbsp;    public List&lt;WidgetType&gt; getBundleWidgetTypes(boolean isSystem, String bundleAlias) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/widgetTypes?isSystem={isSystem}&amp;bundleAlias={bundleAlias}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;WidgetType&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                isSystem,</b>
<b class="nc">&nbsp;                bundleAlias).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;WidgetType&gt; getBundleWidgetTypes(WidgetsBundleId widgetsBundleId) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/widgetTypes?widgetsBundleId={widgetsBundleId}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;WidgetType&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                widgetsBundleId.getId()).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated // current name in the controller: getBundleWidgetTypesDetailsByBundleAlias
&nbsp;    public List&lt;WidgetTypeDetails&gt; getBundleWidgetTypesDetails(boolean isSystem, String bundleAlias) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/widgetTypesDetails?isSystem={isSystem}&amp;bundleAlias={bundleAlias}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;WidgetTypeDetails&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                isSystem,</b>
<b class="nc">&nbsp;                bundleAlias).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;WidgetTypeDetails&gt; getBundleWidgetTypesDetails(WidgetsBundleId widgetsBundleId, boolean inlineImages) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/widgetTypesDetails?widgetsBundleId={widgetsBundleId}&amp;inlineImages={inlineImages}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;WidgetTypeDetails&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                widgetsBundleId.getId(),</b>
<b class="nc">&nbsp;                inlineImages).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;String&gt; getBundleWidgetTypeFqns(WidgetsBundleId widgetsBundleId) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/widgetTypeFqns?widgetsBundleId={widgetsBundleId}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;String&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                widgetsBundleId.getId()).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated // current name in the controller: getBundleWidgetTypesInfosByBundleAlias
&nbsp;    public List&lt;WidgetTypeInfo&gt; getBundleWidgetTypesInfos(boolean isSystem, String bundleAlias) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/widgetTypesInfos?isSystem={isSystem}&amp;bundleAlias={bundleAlias}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;WidgetTypeInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                isSystem,</b>
<b class="nc">&nbsp;                bundleAlias).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;WidgetTypeInfo&gt; getBundleWidgetTypesInfos(WidgetsBundleId widgetsBundleId, PageLink pageLink) {
<b class="nc">&nbsp;        return getBundleWidgetTypesInfos(widgetsBundleId, pageLink, null, null, null, null);</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;WidgetTypeInfo&gt; getBundleWidgetTypesInfos(WidgetsBundleId widgetsBundleId, PageLink pageLink,
&nbsp;                                                              Boolean tenantOnly, Boolean fullSearch,
&nbsp;                                                              DeprecatedFilter deprecatedFilter, List&lt;String&gt; widgetTypeList) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;widgetsBundleId&quot;, widgetsBundleId.getId().toString());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        addWidgetInfoFiltersToParams(tenantOnly, fullSearch, deprecatedFilter, widgetTypeList, params);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/widgetTypesInfos?widgetsBundleId={widgetsBundleId}&amp;&quot; + getUrlParams(pageLink) +</b>
<b class="nc">&nbsp;                        getWidgetTypeInfoPageRequestUrlParams(tenantOnly, fullSearch, deprecatedFilter, widgetTypeList),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;WidgetTypeInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated // current name in the controller: getWidgetTypeByBundleAliasAndTypeAlias
&nbsp;    public Optional&lt;WidgetType&gt; getWidgetType(boolean isSystem, String bundleAlias, String alias) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;WidgetType&gt; widgetType =</b>
<b class="nc">&nbsp;                    restTemplate.getForEntity(</b>
&nbsp;                            baseURL + &quot;/api/widgetType?isSystem={isSystem}&amp;bundleAlias={bundleAlias}&amp;alias={alias}&quot;,
&nbsp;                            WidgetType.class,
<b class="nc">&nbsp;                            isSystem,</b>
&nbsp;                            bundleAlias,
&nbsp;                            alias);
<b class="nc">&nbsp;            return Optional.ofNullable(widgetType.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;WidgetType&gt; getWidgetType(String fqn) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;WidgetType&gt; widgetType =</b>
<b class="nc">&nbsp;                    restTemplate.getForEntity(</b>
&nbsp;                            baseURL + &quot;/api/widgetType?fqn={fqn}&quot;,
&nbsp;                            WidgetType.class,
&nbsp;                            fqn);
<b class="nc">&nbsp;            return Optional.ofNullable(widgetType.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            }
&nbsp;            throw exception;
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Boolean isEdgesSupportEnabled() {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/edges/enabled&quot;, Boolean.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Edge saveEdge(Edge edge) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/edge&quot;, edge, Edge.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteEdge(EdgeId edgeId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/edge/{edgeId}&quot;, edgeId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Edge&gt; getEdgeById(EdgeId edgeId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Edge&gt; edge = restTemplate.getForEntity(baseURL + &quot;/api/edge/{edgeId}&quot;, Edge.class, edgeId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(edge.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;EdgeInfo&gt; getEdgeInfoById(EdgeId edgeId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;EdgeInfo&gt; edge = restTemplate.getForEntity(baseURL + &quot;/api/edge/info/{edgeId}&quot;, EdgeInfo.class, edgeId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(edge.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Edge&gt; assignEdgeToCustomer(CustomerId customerId, EdgeId edgeId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Edge&gt; edge = restTemplate.postForEntity(baseURL + &quot;/api/customer/{customerId}/edge/{edgeId}&quot;, null, Edge.class, customerId.getId(), edgeId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(edge.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Edge&gt; assignEdgeToPublicCustomer(EdgeId edgeId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Edge&gt; edge = restTemplate.postForEntity(baseURL + &quot;/api/customer/public/edge/{edgeId}&quot;, null, Edge.class, edgeId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(edge.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Edge&gt; setEdgeRootRuleChain(EdgeId edgeId, RuleChainId ruleChainId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Edge&gt; ruleChain = restTemplate.postForEntity(baseURL + &quot;/api/edge/{edgeId}/{ruleChainId}/root&quot;, null, Edge.class, edgeId.getId(), ruleChainId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(ruleChain.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;Edge&gt; getEdges(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/edges?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;Edge&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Edge&gt; unassignEdgeFromCustomer(EdgeId edgeId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Edge&gt; edge = restTemplate.exchange(baseURL + &quot;/api/customer/edge/{edgeId}&quot;, HttpMethod.DELETE, HttpEntity.EMPTY, Edge.class, edgeId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(edge.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Device&gt; assignDeviceToEdge(EdgeId edgeId, DeviceId deviceId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Device&gt; device = restTemplate.postForEntity(baseURL + &quot;/api/edge/{edgeId}/device/{deviceId}&quot;, null, Device.class, edgeId.getId(), deviceId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(device.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Device&gt; unassignDeviceFromEdge(EdgeId edgeId, DeviceId deviceId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Device&gt; device = restTemplate.exchange(baseURL + &quot;/api/edge/{edgeId}/device/{deviceId}&quot;, HttpMethod.DELETE, HttpEntity.EMPTY, Device.class, edgeId.getId(), deviceId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(device.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;Device&gt; getEdgeDevices(EdgeId edgeId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;edgeId&quot;, edgeId.getId().toString());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/edge/{edgeId}/devices?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;Device&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Asset&gt; assignAssetToEdge(EdgeId edgeId, AssetId assetId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Asset&gt; asset = restTemplate.postForEntity(baseURL + &quot;/api/edge/{edgeId}/asset/{assetId}&quot;, null, Asset.class, edgeId.getId(), assetId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(asset.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Asset&gt; unassignAssetFromEdge(EdgeId edgeId, AssetId assetId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Asset&gt; asset = restTemplate.exchange(baseURL + &quot;/api/edge/{edgeId}/asset/{assetId}&quot;, HttpMethod.DELETE, HttpEntity.EMPTY, Asset.class, edgeId.getId(), assetId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(asset.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;Asset&gt; getEdgeAssets(EdgeId edgeId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;edgeId&quot;, edgeId.getId().toString());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/edge/{edgeId}/assets?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;Asset&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Dashboard&gt; assignDashboardToEdge(EdgeId edgeId, DashboardId dashboardId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Dashboard&gt; dashboard = restTemplate.postForEntity(baseURL + &quot;/api/edge/{edgeId}/dashboard/{dashboardId}&quot;, null, Dashboard.class, edgeId.getId(), dashboardId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(dashboard.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Dashboard&gt; unassignDashboardFromEdge(EdgeId edgeId, DashboardId dashboardId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Dashboard&gt; dashboard = restTemplate.exchange(baseURL + &quot;/api/edge/{edgeId}/dashboard/{dashboardId}&quot;, HttpMethod.DELETE, HttpEntity.EMPTY, Dashboard.class, edgeId.getId(), dashboardId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(dashboard.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;DashboardInfo&gt; getEdgeDashboards(EdgeId edgeId, TimePageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;edgeId&quot;, edgeId.getId().toString());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/edge/{edgeId}/dashboards?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;DashboardInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;EntityView&gt; assignEntityViewToEdge(EdgeId edgeId, EntityViewId entityViewId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;EntityView&gt; entityView = restTemplate.postForEntity(baseURL + &quot;/api/edge/{edgeId}/entityView/{entityViewId}&quot;, null, EntityView.class, edgeId.getId(), entityViewId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(entityView.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;EntityView&gt; unassignEntityViewFromEdge(EdgeId edgeId, EntityViewId entityViewId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;EntityView&gt; entityView = restTemplate.exchange(baseURL + &quot;/api/edge/{edgeId}/entityView/{entityViewId}&quot;,</b>
<b class="nc">&nbsp;                    HttpMethod.DELETE, HttpEntity.EMPTY, EntityView.class, edgeId.getId(), entityViewId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(entityView.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EntityView&gt; getEdgeEntityViews(EdgeId edgeId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;edgeId&quot;, edgeId.getId().toString());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/edge/{edgeId}/entityViews?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EntityView&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;RuleChain&gt; assignRuleChainToEdge(EdgeId edgeId, RuleChainId ruleChainId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;RuleChain&gt; ruleChain = restTemplate.postForEntity(baseURL + &quot;/api/edge/{edgeId}/ruleChain/{ruleChainId}&quot;, null, RuleChain.class, edgeId.getId(), ruleChainId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(ruleChain.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;RuleChain&gt; unassignRuleChainFromEdge(EdgeId edgeId, RuleChainId ruleChainId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;RuleChain&gt; ruleChain = restTemplate.exchange(baseURL + &quot;/api/edge/{edgeId}/ruleChain/{ruleChainId}&quot;, HttpMethod.DELETE, HttpEntity.EMPTY, RuleChain.class, edgeId.getId(), ruleChainId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(ruleChain.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;RuleChain&gt; getEdgeRuleChains(EdgeId edgeId, TimePageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;edgeId&quot;, edgeId.getId().toString());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/edge/{edgeId}/ruleChains?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;RuleChain&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;RuleChain&gt; setAutoAssignToEdgeRuleChain(RuleChainId ruleChainId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;RuleChain&gt; ruleChain = restTemplate.postForEntity(baseURL + &quot;/api/ruleChain/{ruleChainId}/autoAssignToEdge&quot;, null, RuleChain.class, ruleChainId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(ruleChain.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;RuleChain&gt; unsetAutoAssignToEdgeRuleChain(RuleChainId ruleChainId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;RuleChain&gt; ruleChain = restTemplate.exchange(baseURL + &quot;/api/ruleChain/{ruleChainId}/autoAssignToEdge&quot;, HttpMethod.DELETE, HttpEntity.EMPTY, RuleChain.class, ruleChainId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(ruleChain.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;RuleChain&gt; getAutoAssignToEdgeRuleChains() {
<b class="nc">&nbsp;        return restTemplate.exchange(baseURL + &quot;/api/ruleChain/autoAssignToEdgeRuleChains&quot;,</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;RuleChain&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;RuleChain&gt; setRootEdgeTemplateRuleChain(RuleChainId ruleChainId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;RuleChain&gt; ruleChain = restTemplate.postForEntity(baseURL + &quot;/api/ruleChain/{ruleChainId}/edgeTemplateRoot&quot;, null, RuleChain.class, ruleChainId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(ruleChain.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;Edge&gt; getTenantEdges(String type, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, type);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/tenant/edges?type={type}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;Edge&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EdgeInfo&gt; getTenantEdgeInfos(String type, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, type);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/tenant/edgeInfos?type={type}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EdgeInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;Edge&gt; getTenantEdge(String edgeName) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;Edge&gt; edge = restTemplate.getForEntity(baseURL + &quot;/api/tenant/edges?edgeName={edgeName}&quot;, Edge.class, edgeName);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(edge.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;Edge&gt; getCustomerEdges(CustomerId customerId, PageLink pageLink, String edgeType) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;customerId&quot;, customerId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, edgeType);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/customer/{customerId}/edges?type={type}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;Edge&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EdgeInfo&gt; getCustomerEdgeInfos(CustomerId customerId, PageLink pageLink, String edgeType) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;customerId&quot;, customerId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, edgeType);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/customer/{customerId}/edgeInfos?type={type}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EdgeInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;Edge&gt; getEdgesByIds(List&lt;EdgeId&gt; edgeIds) {
<b class="nc">&nbsp;        return restTemplate.exchange(baseURL + &quot;/api/edges?edgeIds={edgeIds}&quot;,</b>
&nbsp;                HttpMethod.GET,
<b class="nc">&nbsp;                HttpEntity.EMPTY, new ParameterizedTypeReference&lt;List&lt;Edge&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, listIdsToString(edgeIds)).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;Edge&gt; findByQuery(EdgeSearchQuery query) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/edges&quot;,
&nbsp;                HttpMethod.POST,
&nbsp;                new HttpEntity&lt;&gt;(query),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;Edge&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;EntitySubtype&gt; getEdgeTypes() {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/edge/types&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;EntitySubtype&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EdgeEvent&gt; getEdgeEvents(EdgeId edgeId, TimePageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;edgeId&quot;, edgeId.toString());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/edge/{edgeId}/events?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EdgeEvent&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void syncEdge(EdgeId edgeId) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;edgeId&quot;, edgeId.toString());</b>
<b class="nc">&nbsp;        restTemplate.postForEntity(baseURL + &quot;/api/edge/sync/{edgeId}&quot;, null, EdgeId.class, params);</b>
&nbsp;    }
&nbsp;
&nbsp;    public String findMissingToRelatedRuleChains(EdgeId edgeId) {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/edge/missingToRelatedRuleChains/{edgeId}&quot;, String.class, edgeId.getId()).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public BulkImportResult&lt;Edge&gt; processEdgesBulkImport(BulkImportRequest request) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/edge/bulk_import&quot;,
&nbsp;                HttpMethod.POST,
&nbsp;                new HttpEntity&lt;&gt;(request),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;BulkImportResult&lt;Edge&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;EdgeInstructions&gt; getEdgeInstallInstructions(EdgeId edgeId, String method) {
<b class="nc">&nbsp;        ResponseEntity&lt;EdgeInstructions&gt; edgeInstallInstructionsResult =</b>
<b class="nc">&nbsp;                restTemplate.getForEntity(baseURL + &quot;/api/edge/instructions/install/{edgeId}/{method}&quot;, EdgeInstructions.class, edgeId.getId(), method);</b>
<b class="nc">&nbsp;        return Optional.ofNullable(edgeInstallInstructionsResult.getBody());</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;EdgeInstructions&gt; getEdgeUpgradeInstructions(String edgeVersion, String method) {
<b class="nc">&nbsp;        ResponseEntity&lt;EdgeInstructions&gt; edgeUpgradeInstructionsResult =</b>
<b class="nc">&nbsp;                restTemplate.getForEntity(baseURL + &quot;/api/edge/instructions/upgrade/{edgeVersion}/{method}&quot;, EdgeInstructions.class, edgeVersion, method);</b>
<b class="nc">&nbsp;        return Optional.ofNullable(edgeUpgradeInstructionsResult.getBody());</b>
&nbsp;    }
&nbsp;
&nbsp;    public UUID saveEntitiesVersion(VersionCreateRequest request) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/entities/vc/version&quot;, request, UUID.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;VersionCreationResult&gt; getVersionCreateRequestStatus(UUID requestId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;VersionCreationResult&gt; versionCreateResult = restTemplate.getForEntity(baseURL + &quot;/api/entities/vc/version/{requestId}/status&quot;, VersionCreationResult.class, requestId);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(versionCreateResult.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EntityVersion&gt; listEntityVersions(EntityId externalEntityId, String branch, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;entityType&quot;, externalEntityId.getEntityType().name());</b>
<b class="nc">&nbsp;        params.put(&quot;externalEntityUuid&quot;, externalEntityId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;branch&quot;, branch);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/entities/vc/version/{entityType}/{externalEntityUuid}?branch={branch}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EntityVersion&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EntityVersion&gt; listEntityTypeVersions(EntityType entityType, String branch, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;entityType&quot;, entityType.name());</b>
<b class="nc">&nbsp;        params.put(&quot;branch&quot;, branch);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/entities/vc/version/{entityType}?branch={branch}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EntityVersion&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;EntityVersion&gt; listVersions(String branch, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;branch&quot;, branch);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/entities/vc/version?branch={branch}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;EntityVersion&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;VersionedEntityInfo&gt; listEntitiesAtVersion(EntityType entityType, String versionId) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;entityType&quot;, entityType.name());</b>
<b class="nc">&nbsp;        params.put(&quot;versionId&quot;, versionId);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/entities/vc/entity/{entityType}/{versionId}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;VersionedEntityInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;VersionedEntityInfo&gt; listAllEntitiesAtVersion(String versionId) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;versionId&quot;, versionId);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/entities/vc/entity/{versionId}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;VersionedEntityInfo&gt;&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public EntityDataInfo getEntityDataInfo(EntityId externalEntityId, String versionId) {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/entities/vc/info/{versionId}/{entityType}/{externalEntityUuid}&quot;,</b>
<b class="nc">&nbsp;                EntityDataInfo.class, versionId, externalEntityId.getEntityType(), externalEntityId.getId()).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public EntityDataDiff compareEntityDataToVersion(EntityId internalEntityId, String versionId) {
<b class="nc">&nbsp;        return restTemplate.getForEntity(baseURL + &quot;/api/entities/vc/diff/{entityType}/{internalEntityUuid}?versionId={versionId}&quot;,</b>
<b class="nc">&nbsp;                EntityDataDiff.class, internalEntityId.getEntityType(), internalEntityId.getId(), versionId).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public UUID loadEntitiesVersion(VersionLoadRequest request) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/entities/vc/entity&quot;, request, UUID.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;VersionLoadResult&gt; getVersionLoadRequestStatus(UUID requestId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;VersionLoadResult&gt; versionLoadResult = restTemplate.getForEntity(baseURL + &quot;/api/entities/vc/entity/{requestId}/status&quot;, VersionLoadResult.class, requestId);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(versionLoadResult.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;BranchInfo&gt; listBranches() {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/entities/vc/branches&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;BranchInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public ResponseEntity&lt;Resource&gt; downloadResource(TbResourceId resourceId) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;resourceId&quot;, resourceId.getId().toString());</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/resource/{resourceId}/download&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;&gt;() {</b>
&nbsp;                },
&nbsp;                params
&nbsp;        );
&nbsp;    }
&nbsp;
&nbsp;    public TbResourceInfo getResourceInfoById(TbResourceId resourceId) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;resourceId&quot;, resourceId.getId().toString());</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/resource/info/{resourceId}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;TbResourceInfo&gt;() {</b>
&nbsp;                },
&nbsp;                params
<b class="nc">&nbsp;        ).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public TbResource getResourceId(TbResourceId resourceId) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;resourceId&quot;, resourceId.getId().toString());</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/resource/{resourceId}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;TbResource&gt;() {</b>
&nbsp;                },
&nbsp;                params
<b class="nc">&nbsp;        ).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public TbResource saveResource(TbResource resource) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(</b>
&nbsp;                baseURL + &quot;/api/resource&quot;,
&nbsp;                resource,
&nbsp;                TbResource.class
<b class="nc">&nbsp;        ).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;TbResourceInfo&gt; getResources(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/resource?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;TbResourceInfo&gt;&gt;() {</b>
&nbsp;                },
&nbsp;                params
<b class="nc">&nbsp;        ).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteResource(TbResourceId resourceId) {
<b class="nc">&nbsp;        restTemplate.delete(&quot;/api/resource/{resourceId}&quot;, resourceId.getId().toString());</b>
&nbsp;    }
&nbsp;
&nbsp;    public TbResourceInfo getImageInfo(String type, String key) {
<b class="nc">&nbsp;        return restTemplate.getForObject(baseURL + &quot;/api/images/{type}/{key}/info&quot;, TbResourceInfo.class, Map.of(</b>
&nbsp;                &quot;type&quot;, type,
&nbsp;                &quot;key&quot;, key
&nbsp;        ));
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;TbResourceInfo&gt; getImages(PageLink pageLink, boolean includeSystemImages) {
<b class="nc">&nbsp;        return this.getImages(pageLink, null, includeSystemImages);</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;TbResourceInfo&gt; getImages(PageLink pageLink, ResourceSubType imageSubType, boolean includeSystemImages) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        var url = baseURL + &quot;/api/images?includeSystemImages={includeSystemImages}&amp;&quot;;</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        params.put(&quot;includeSystemImages&quot;, String.valueOf(includeSystemImages));</b>
<b class="nc">&nbsp;        if (imageSubType != null) {</b>
<b class="nc">&nbsp;            url += &quot;imageSubType={imageSubType}&amp;&quot;;</b>
<b class="nc">&nbsp;            params.put(&quot;imageSubType&quot;, imageSubType.name());</b>
&nbsp;        }
<b class="nc">&nbsp;        return restTemplate.exchange(url + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;TbResourceInfo&gt;&gt;() {},</b>
&nbsp;                params
<b class="nc">&nbsp;        ).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public TbResourceInfo uploadImage(String fileName, byte[] data, String contentType, String title) {
<b class="nc">&nbsp;        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; request = createMultipartRequest(fileName, data, contentType, Map.of(</b>
<b class="nc">&nbsp;                &quot;title&quot;, Strings.nullToEmpty(title)</b>
&nbsp;        ));
<b class="nc">&nbsp;        return restTemplate.postForObject(baseURL + &quot;/api/image&quot;, request, TbResourceInfo.class);</b>
&nbsp;    }
&nbsp;
&nbsp;    public TbResourceInfo updateImage(String type, String key, String fileName, byte[] data, String contentType) {
<b class="nc">&nbsp;        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; request = createMultipartRequest(fileName, data, contentType, Map.of());</b>
<b class="nc">&nbsp;        return restTemplate.exchange(baseURL + &quot;/api/images/{type}/{key}&quot;, HttpMethod.PUT, request, TbResourceInfo.class, Map.of(</b>
&nbsp;                &quot;type&quot;, type,
&nbsp;                &quot;key&quot;, key
<b class="nc">&nbsp;        )).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public TbResourceInfo updateImageInfo(String type, String key, TbResourceInfo request) {
<b class="nc">&nbsp;        return restTemplate.exchange(baseURL + &quot;/api/images/{type}/{key}/info&quot;, HttpMethod.PUT, new HttpEntity&lt;&gt;(request), TbResourceInfo.class, Map.of(</b>
&nbsp;                &quot;type&quot;, type,
&nbsp;                &quot;key&quot;, key
<b class="nc">&nbsp;        )).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void updateImagePublicStatus(String type, String key, boolean isPublic) {
<b class="nc">&nbsp;        restTemplate.put(baseURL + &quot;/api/images/{type}/{key}/public/{isPublic}&quot;, null, Map.of(</b>
&nbsp;                &quot;type&quot;, type,
&nbsp;                &quot;key&quot;, key,
<b class="nc">&nbsp;                &quot;isPublic&quot;, isPublic</b>
&nbsp;        ));
&nbsp;    }
&nbsp;
&nbsp;    public byte[] downloadImage(String type, String key) throws IOException {
<b class="nc">&nbsp;        Resource image = restTemplate.exchange(baseURL + &quot;/api/images/{type}/{key}&quot;, HttpMethod.GET, null, Resource.class, Map.of(</b>
&nbsp;                &quot;type&quot;, type,
&nbsp;                &quot;key&quot;, key
<b class="nc">&nbsp;        )).getBody();</b>
<b class="nc">&nbsp;        return IOUtils.toByteArray(image.getInputStream());</b>
&nbsp;    }
&nbsp;
&nbsp;    public byte[] downloadImagePreview(String type, String key) throws IOException {
<b class="nc">&nbsp;        Resource image = restTemplate.exchange(baseURL + &quot;/api/images/{type}/{key}/preview&quot;, HttpMethod.GET, null, Resource.class, Map.of(</b>
&nbsp;                &quot;type&quot;, type,
&nbsp;                &quot;key&quot;, key
<b class="nc">&nbsp;        )).getBody();</b>
<b class="nc">&nbsp;        return IOUtils.toByteArray(image.getInputStream());</b>
&nbsp;    }
&nbsp;
&nbsp;    public byte[] downloadPublicImage(String publicResourceKey) throws IOException {
<b class="nc">&nbsp;        Resource image = restTemplate.exchange(baseURL + &quot;/api/images/public/{publicResourceKey}&quot;, HttpMethod.GET, null, Resource.class, Map.of(</b>
&nbsp;                &quot;publicResourceKey&quot;, publicResourceKey
<b class="nc">&nbsp;        )).getBody();</b>
<b class="nc">&nbsp;        return IOUtils.toByteArray(image.getInputStream());</b>
&nbsp;    }
&nbsp;
&nbsp;    public ResourceExportData exportImage(String type, String key) {
<b class="nc">&nbsp;        return restTemplate.getForObject(baseURL + &quot;/api/images/{type}/{key}/export&quot;, ResourceExportData.class, Map.of(</b>
&nbsp;                &quot;type&quot;, type,
&nbsp;                &quot;key&quot;, key
&nbsp;        ));
&nbsp;    }
&nbsp;
&nbsp;    public TbResourceInfo importImage(ResourceExportData exportData) {
<b class="nc">&nbsp;        return restTemplate.exchange(baseURL + &quot;/api/image/import&quot;, HttpMethod.PUT, new HttpEntity&lt;&gt;(exportData), TbResourceInfo.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public TbImageDeleteResult deleteImage(String type, String key, boolean force) {
<b class="nc">&nbsp;        return restTemplate.exchange(baseURL + &quot;/api/images/{type}/{key}?force={force}&quot;, HttpMethod.DELETE, null, TbImageDeleteResult.class, Map.of(</b>
&nbsp;                &quot;type&quot;, type,
&nbsp;                &quot;key&quot;, key,
<b class="nc">&nbsp;                &quot;force&quot;, force</b>
<b class="nc">&nbsp;        )).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public ResponseEntity&lt;Resource&gt; downloadOtaPackage(OtaPackageId otaPackageId) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;otaPackageId&quot;, otaPackageId.getId().toString());</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/otaPackage/{otaPackageId}/download&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;&gt;() {</b>
&nbsp;                },
&nbsp;                params
&nbsp;        );
&nbsp;    }
&nbsp;
&nbsp;    public OtaPackageInfo getOtaPackageInfoById(OtaPackageId otaPackageId) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;otaPackageId&quot;, otaPackageId.getId().toString());</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/otaPackage/info/{otaPackageId}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;OtaPackageInfo&gt;() {</b>
&nbsp;                },
&nbsp;                params
<b class="nc">&nbsp;        ).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public OtaPackage getOtaPackageById(OtaPackageId otaPackageId) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;otaPackageId&quot;, otaPackageId.getId().toString());</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/otaPackage/{otaPackageId}&quot;,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;OtaPackage&gt;() {</b>
&nbsp;                },
&nbsp;                params
<b class="nc">&nbsp;        ).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public OtaPackageInfo saveOtaPackageInfo(OtaPackageInfo otaPackageInfo, boolean isUrl) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;isUrl&quot;, Boolean.toString(isUrl));</b>
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/otaPackage?isUrl={isUrl}&quot;, otaPackageInfo, OtaPackageInfo.class, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public OtaPackageInfo saveOtaPackageData(OtaPackageId otaPackageId, String checkSum, ChecksumAlgorithm checksumAlgorithm, String fileName, byte[] fileBytes) throws Exception {
<b class="nc">&nbsp;        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = createMultipartRequest(fileName, fileBytes, null, Collections.emptyMap());</b>
&nbsp;
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;otaPackageId&quot;, otaPackageId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;checksumAlgorithm&quot;, checksumAlgorithm.name());</b>
<b class="nc">&nbsp;        String url = &quot;/api/otaPackage/{otaPackageId}?checksumAlgorithm={checksumAlgorithm}&quot;;</b>
&nbsp;
<b class="nc">&nbsp;        if (checkSum != null) {</b>
<b class="nc">&nbsp;            url += &quot;&amp;checkSum={checkSum}&quot;;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return restTemplate.postForEntity(</b>
&nbsp;                baseURL + url, requestEntity, OtaPackageInfo.class, params
<b class="nc">&nbsp;        ).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;OtaPackageInfo&gt; getOtaPackages(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/otaPackages?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;OtaPackageInfo&gt;&gt;() {</b>
&nbsp;                },
&nbsp;                params
<b class="nc">&nbsp;        ).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;OtaPackageInfo&gt; getOtaPackages(DeviceProfileId deviceProfileId,
&nbsp;                                                   OtaPackageType otaPackageType,
&nbsp;                                                   boolean hasData,
&nbsp;                                                   PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;hasData&quot;, String.valueOf(hasData));</b>
<b class="nc">&nbsp;        params.put(&quot;deviceProfileId&quot;, deviceProfileId.getId().toString());</b>
<b class="nc">&nbsp;        params.put(&quot;type&quot;, otaPackageType.name());</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/otaPackages/{deviceProfileId}/{type}/{hasData}?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;OtaPackageInfo&gt;&gt;() {</b>
&nbsp;                },
&nbsp;                params
<b class="nc">&nbsp;        ).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteOtaPackage(OtaPackageId otaPackageId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/otaPackage/{otaPackageId}&quot;, otaPackageId.getId().toString());</b>
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;Queue&gt; getQueuesByServiceType(String serviceType, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;serviceType&quot;, serviceType);</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/queues?serviceType={serviceType}&amp;&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;Queue&gt;&gt;() {</b>
&nbsp;                },
&nbsp;                params
<b class="nc">&nbsp;        ).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Queue getQueueById(QueueId queueId) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/queues/&quot; + queueId,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;Queue&gt;() {</b>
&nbsp;                }
<b class="nc">&nbsp;        ).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Queue saveQueue(Queue queue, String serviceType) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/queues?serviceType=&quot; + serviceType, queue, Queue.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteQueue(QueueId queueId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/queues/&quot; + queueId);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Deprecated
&nbsp;    public Optional&lt;JsonNode&gt; getAttributes(String accessToken, String clientKeys, String sharedKeys) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        params.put(&quot;accessToken&quot;, accessToken);</b>
<b class="nc">&nbsp;        params.put(&quot;clientKeys&quot;, clientKeys);</b>
<b class="nc">&nbsp;        params.put(&quot;sharedKeys&quot;, sharedKeys);</b>
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;JsonNode&gt; telemetryEntity = restTemplate.getForEntity(baseURL + &quot;/api/v1/{accessToken}/attributes?clientKeys={clientKeys}&amp;sharedKeys={sharedKeys}&quot;, JsonNode.class, params);</b>
<b class="nc">&nbsp;            return Optional.of(telemetryEntity.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public JsonNode handleRuleEngineRequest(JsonNode requestBody) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/rule-engine&quot;,
&nbsp;                HttpMethod.POST,
&nbsp;                new HttpEntity&lt;&gt;(requestBody),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;JsonNode&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public JsonNode handleRuleEngineRequest(EntityId entityId, JsonNode requestBody) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/rule-engine/{entityType}/{entityId}&quot;,
&nbsp;                HttpMethod.POST,
&nbsp;                new HttpEntity&lt;&gt;(requestBody),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;JsonNode&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                entityId.getEntityType(),</b>
<b class="nc">&nbsp;                entityId.getId()).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public JsonNode handleRuleEngineRequest(EntityId entityId, int timeout, JsonNode requestBody) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/rule-engine/{entityType}/{entityId}/{timeout}&quot;,
&nbsp;                HttpMethod.POST,
&nbsp;                new HttpEntity&lt;&gt;(requestBody),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;JsonNode&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                entityId.getEntityType(),</b>
<b class="nc">&nbsp;                entityId.getId(),</b>
<b class="nc">&nbsp;                timeout).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public JsonNode handleRuleEngineRequest(EntityId entityId, String queueName, int timeout, JsonNode requestBody) {
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/rule-engine/{entityType}/{entityId}/{queueName}/{timeout}&quot;,
&nbsp;                HttpMethod.POST,
&nbsp;                new HttpEntity&lt;&gt;(requestBody),
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;JsonNode&gt;() {</b>
&nbsp;                },
<b class="nc">&nbsp;                entityId.getEntityType(),</b>
<b class="nc">&nbsp;                entityId.getId(),</b>
&nbsp;                queueName,
<b class="nc">&nbsp;                timeout).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public CalculatedField saveCalculatedField(CalculatedField calculatedField) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/calculatedField&quot;, calculatedField, CalculatedField.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;CalculatedField&gt; getCalculatedFieldById(CalculatedFieldId calculatedFieldId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;CalculatedField&gt; calculatedField = restTemplate.getForEntity(baseURL + &quot;/api/calculatedField/{calculatedFieldId}&quot;, CalculatedField.class, calculatedFieldId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(calculatedField.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;CalculatedField&gt; getCalculatedFieldsByEntityId(EntityId entityId, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/&quot; + entityId.getEntityType() + &quot;/&quot; + entityId.getId() + &quot;/calculatedFields?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET, HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;CalculatedField&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public void deleteCalculatedField(CalculatedFieldId calculatedFieldId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/calculatedField/{calculatedFieldId}&quot;, calculatedFieldId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;JsonNode&gt; getLatestCalculatedFieldDebugEvent(CalculatedFieldId calculatedFieldId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;JsonNode&gt; jsonNode = restTemplate.getForEntity(baseURL + &quot;/api/calculatedField/{calculatedFieldId}/debug&quot;, JsonNode.class, calculatedFieldId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(jsonNode.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;JsonNode&gt; testCalculatedFieldScript(JsonNode inputParams) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;JsonNode&gt; jsonNode = restTemplate.postForEntity(baseURL + &quot;/api/calculatedField/testScript&quot;, inputParams, JsonNode.class);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(jsonNode.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;Notification&gt; getNotifications(Boolean unreadOnly, NotificationDeliveryMethod deliveryMethod, PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
&nbsp;
<b class="nc">&nbsp;        StringBuilder urlBuilder = new StringBuilder();</b>
<b class="nc">&nbsp;        urlBuilder.append(baseURL).append(&quot;/api/notifications?&quot;).append(getUrlParams(pageLink));</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
&nbsp;
<b class="nc">&nbsp;        if (unreadOnly != null) {</b>
<b class="nc">&nbsp;            urlBuilder.append(&quot;&amp;unreadOnly={unreadOnly}&quot;);</b>
<b class="nc">&nbsp;            params.put(&quot;unreadOnly&quot;, unreadOnly.toString());</b>
&nbsp;        }
<b class="nc">&nbsp;        if (deliveryMethod != null) {</b>
<b class="nc">&nbsp;            urlBuilder.append(&quot;&amp;deliveryMethod={deliveryMethod}&quot;);</b>
<b class="nc">&nbsp;            params.put(&quot;deliveryMethod&quot;, deliveryMethod.name());</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return restTemplate.exchange(urlBuilder.toString(),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;Notification&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Integer getUnreadNotificationsCount(NotificationDeliveryMethod deliveryMethod) {
<b class="nc">&nbsp;        String uri = &quot;/api/notifications/unread/count?&quot;;</b>
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        if (deliveryMethod != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;deliveryMethod&quot;, deliveryMethod.name());</b>
<b class="nc">&nbsp;            uri += &quot;&amp;deliveryMethod={deliveryMethod}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
&nbsp;                baseURL + uri,
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                Integer.class, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void markNotificationAsRead(NotificationId notificationId) {
<b class="nc">&nbsp;        restTemplate.exchange(</b>
&nbsp;                baseURL + &quot;/api/notification/{id}/read&quot;,
&nbsp;                HttpMethod.PUT,
&nbsp;                HttpEntity.EMPTY,
&nbsp;                Void.class,
<b class="nc">&nbsp;                notificationId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public void markAllNotificationsAsRead(NotificationDeliveryMethod deliveryMethod) {
<b class="nc">&nbsp;        String uri = &quot;/api/notifications/read?&quot;;</b>
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        if (deliveryMethod != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;deliveryMethod&quot;, deliveryMethod.name());</b>
<b class="nc">&nbsp;            uri += &quot;&amp;deliveryMethod={deliveryMethod}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        restTemplate.exchange(</b>
&nbsp;                baseURL + uri,
&nbsp;                HttpMethod.PUT,
&nbsp;                HttpEntity.EMPTY,
&nbsp;                Void.class,
&nbsp;                params);
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    public void deleteNotification(NotificationId notificationId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/notification/{id}&quot;, notificationId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public NotificationRequest saveNotificationRequest(NotificationRequest notificationRequest) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/notification/request&quot;, notificationRequest, NotificationRequest.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public NotificationRequestPreview getNotificationRequestPreview(NotificationRequest notificationRequest, int recipientsPreviewSize) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/notification/request/preview?recipientsPreviewSize={recipientsPreviewSize}&quot;, notificationRequest, NotificationRequestPreview.class, recipientsPreviewSize).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;NotificationRequestInfo&gt; getNotificationRequestById(NotificationRequestId notificationRequestId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;NotificationRequestInfo&gt; notificationRequest = restTemplate.getForEntity(baseURL + &quot;/api/notification/request/{id}&quot;, NotificationRequestInfo.class, notificationRequestId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(notificationRequest.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public PageData&lt;NotificationRequestInfo&gt; getNotificationRequests(PageLink pageLink) {
<b class="nc">&nbsp;        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        return restTemplate.exchange(</b>
<b class="nc">&nbsp;                baseURL + &quot;/api/notification/requests?&quot; + getUrlParams(pageLink),</b>
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;PageData&lt;NotificationRequestInfo&gt;&gt;() {</b>
<b class="nc">&nbsp;                }, params).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deleteNotificationRequest(NotificationRequestId notificationRequestId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/notification/request/{id}&quot;, notificationRequestId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;    public NotificationSettings saveNotificationSettings(NotificationSettings notificationSettings) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/notification/settings&quot;, notificationSettings, NotificationSettings.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;NotificationSettings&gt; getNotificationSettings() {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;NotificationSettings&gt; notificationSettings = restTemplate.getForEntity(baseURL + &quot;/api/notification/settings&quot;, NotificationSettings.class);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(notificationSettings.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;NotificationDeliveryMethod&gt; getAvailableDeliveryMethods() {
<b class="nc">&nbsp;        return restTemplate.exchange(URI.create(</b>
&nbsp;                        baseURL + &quot;/api/notification/deliveryMethods&quot;),
&nbsp;                HttpMethod.GET,
&nbsp;                HttpEntity.EMPTY,
<b class="nc">&nbsp;                new ParameterizedTypeReference&lt;List&lt;NotificationDeliveryMethod&gt;&gt;() {</b>
<b class="nc">&nbsp;                }).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public UserNotificationSettings saveUserNotificationSettings(UserNotificationSettings userNotificationSettings) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/notification/settings/user&quot;, userNotificationSettings, UserNotificationSettings.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;UserNotificationSettings&gt; getUserNotificationSettings() {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;UserNotificationSettings&gt; userNotificationSettings = restTemplate.getForEntity(baseURL + &quot;/api/notification/settings/user&quot;, UserNotificationSettings.class);</b>
<b class="nc">&nbsp;            return Optional.ofNullable(userNotificationSettings.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public NotificationTarget saveNotificationTarget(NotificationTarget notificationTarget) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/notification/target&quot;, notificationTarget, NotificationTarget.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public NotificationTemplate saveNotificationTemplate(NotificationTemplate notificationTemplate) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/notification/template&quot;, notificationTemplate, NotificationTemplate.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public AiModel saveAiModel(AiModel aiModel) {
<b class="nc">&nbsp;        return restTemplate.postForEntity(baseURL + &quot;/api/ai/model&quot;, aiModel, AiModel.class).getBody();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Optional&lt;AiModel&gt; getAiModel(AiModelId aiModelId) {
&nbsp;        try {
<b class="nc">&nbsp;            ResponseEntity&lt;AiModel&gt; response = restTemplate.getForEntity(</b>
<b class="nc">&nbsp;                    baseURL + &quot;/api/ai/model/{aiModelId}&quot;, AiModel.class, aiModelId.getId());</b>
<b class="nc">&nbsp;            return Optional.ofNullable(response.getBody());</b>
&nbsp;        } catch (HttpClientErrorException exception) {
<b class="nc">&nbsp;            if (exception.getStatusCode() == HttpStatus.NOT_FOUND) {</b>
<b class="nc">&nbsp;                return Optional.empty();</b>
&nbsp;            } else {
&nbsp;                throw exception;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public void deleteAiModel(AiModelId aiModelId) {
<b class="nc">&nbsp;        restTemplate.delete(baseURL + &quot;/api/ai/model/{aiModelId}&quot;, aiModelId.getId());</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    private String getTimeUrlParams(TimePageLink pageLink) {
<b class="nc">&nbsp;        String urlParams = getUrlParams(pageLink);</b>
<b class="nc">&nbsp;        if (pageLink.getStartTime() != null) {</b>
<b class="nc">&nbsp;            urlParams += &quot;&amp;startTime={startTime}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (pageLink.getEndTime() != null) {</b>
<b class="nc">&nbsp;            urlParams += &quot;&amp;endTime={endTime}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        return urlParams;</b>
&nbsp;    }
&nbsp;
&nbsp;    private String getUrlParams(PageLink pageLink) {
<b class="nc">&nbsp;        String urlParams = &quot;pageSize={pageSize}&amp;page={page}&quot;;</b>
<b class="nc">&nbsp;        if (!isEmpty(pageLink.getTextSearch())) {</b>
<b class="nc">&nbsp;            urlParams += &quot;&amp;textSearch={textSearch}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (pageLink.getSortOrder() != null) {</b>
<b class="nc">&nbsp;            urlParams += &quot;&amp;sortProperty={sortProperty}&amp;sortOrder={sortOrder}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        return urlParams;</b>
&nbsp;    }
&nbsp;
&nbsp;    private String getWidgetTypeInfoPageRequestUrlParams(Boolean tenantOnly, Boolean fullSearch,
&nbsp;                                                         DeprecatedFilter deprecatedFilter,
&nbsp;                                                         List&lt;String&gt; widgetTypeList) {
<b class="nc">&nbsp;        String urlParams = getTenantOnlyAndFullSearchUrlParams(tenantOnly, fullSearch);</b>
<b class="nc">&nbsp;        if (deprecatedFilter != null) {</b>
<b class="nc">&nbsp;            urlParams += &quot;&amp;deprecatedFilter={deprecatedFilter}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (!CollectionUtils.isEmpty(widgetTypeList)) {</b>
<b class="nc">&nbsp;            urlParams += &quot;&amp;widgetTypeList={widgetTypeList}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        return urlParams;</b>
&nbsp;    }
&nbsp;
&nbsp;    private String getTenantOnlyAndFullSearchUrlParams(Boolean tenantOnly, Boolean fullSearch) {
<b class="nc">&nbsp;        String urlParams = &quot;&quot;;</b>
<b class="nc">&nbsp;        if (tenantOnly != null) {</b>
<b class="nc">&nbsp;            urlParams = &quot;&amp;tenantOnly={tenantOnly}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (fullSearch != null) {</b>
<b class="nc">&nbsp;            urlParams += &quot;&amp;fullSearch={fullSearch}&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        return urlParams;</b>
&nbsp;    }
&nbsp;
&nbsp;    private void addTimePageLinkToParam(Map&lt;String, String&gt; params, TimePageLink pageLink) {
<b class="nc">&nbsp;        this.addPageLinkToParam(params, pageLink);</b>
<b class="nc">&nbsp;        if (pageLink.getStartTime() != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;startTime&quot;, String.valueOf(pageLink.getStartTime()));</b>
&nbsp;        }
<b class="nc">&nbsp;        if (pageLink.getEndTime() != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;endTime&quot;, String.valueOf(pageLink.getEndTime()));</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void addPageLinkToParam(Map&lt;String, String&gt; params, PageLink pageLink) {
<b class="nc">&nbsp;        params.put(&quot;pageSize&quot;, String.valueOf(pageLink.getPageSize()));</b>
<b class="nc">&nbsp;        params.put(&quot;page&quot;, String.valueOf(pageLink.getPage()));</b>
<b class="nc">&nbsp;        if (!isEmpty(pageLink.getTextSearch())) {</b>
<b class="nc">&nbsp;            params.put(&quot;textSearch&quot;, pageLink.getTextSearch());</b>
&nbsp;        }
<b class="nc">&nbsp;        if (pageLink.getSortOrder() != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;sortProperty&quot;, pageLink.getSortOrder().getProperty());</b>
<b class="nc">&nbsp;            params.put(&quot;sortOrder&quot;, pageLink.getSortOrder().getDirection().name());</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void addWidgetInfoFiltersToParams(Boolean tenantOnly, Boolean fullSearch, DeprecatedFilter deprecatedFilter,
&nbsp;                                              List&lt;String&gt; widgetTypeList, Map&lt;String, String&gt; params) {
<b class="nc">&nbsp;        addTenantOnlyAndFullSearchToParams(tenantOnly, fullSearch, params);</b>
<b class="nc">&nbsp;        if (deprecatedFilter != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;deprecatedFilter&quot;, deprecatedFilter.name());</b>
&nbsp;        }
<b class="nc">&nbsp;        if (!CollectionUtils.isEmpty(widgetTypeList)) {</b>
<b class="nc">&nbsp;            params.put(&quot;widgetTypeList&quot;, listToString(widgetTypeList));</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void addTenantOnlyAndFullSearchToParams(Boolean tenantOnly, Boolean fullSearch, Map&lt;String, String&gt; params) {
<b class="nc">&nbsp;        if (tenantOnly != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;tenantOnly&quot;, tenantOnly.toString());</b>
&nbsp;        }
<b class="nc">&nbsp;        if (fullSearch != null) {</b>
<b class="nc">&nbsp;            params.put(&quot;fullSearch&quot;, fullSearch.toString());</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private String listToString(List&lt;String&gt; list) {
<b class="nc">&nbsp;        return String.join(&quot;,&quot;, list);</b>
&nbsp;    }
&nbsp;
&nbsp;    private String listIdsToString(List&lt;? extends EntityId&gt; list) {
<b class="nc">&nbsp;        return listToString(list.stream().map(id -&gt; id.getId().toString()).collect(Collectors.toList()));</b>
&nbsp;    }
&nbsp;
&nbsp;    private String listEnumToString(List&lt;? extends Enum&gt; list) {
<b class="nc">&nbsp;        return listToString(list.stream().map(Enum::name).collect(Collectors.toList()));</b>
&nbsp;    }
&nbsp;
&nbsp;    private HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; createMultipartRequest(String fileName, byte[] fileData, String fileContentType, Map&lt;String, Object&gt; otherParts) {
<b class="nc">&nbsp;        HttpHeaders headers = new HttpHeaders();</b>
<b class="nc">&nbsp;        headers.setContentType(MediaType.MULTIPART_FORM_DATA);</b>
&nbsp;
<b class="nc">&nbsp;        MultiValueMap&lt;String, String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();</b>
<b class="nc">&nbsp;        fileMap.add(HttpHeaders.CONTENT_DISPOSITION, &quot;form-data; name=file; filename=&quot; + fileName);</b>
<b class="nc">&nbsp;        if (fileContentType != null) {</b>
<b class="nc">&nbsp;            fileMap.add(HttpHeaders.CONTENT_TYPE, fileContentType);</b>
&nbsp;        }
<b class="nc">&nbsp;        HttpEntity&lt;ByteArrayResource&gt; fileEntity = new HttpEntity&lt;&gt;(new ByteArrayResource(fileData), fileMap);</b>
&nbsp;
<b class="nc">&nbsp;        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();</b>
<b class="nc">&nbsp;        body.setAll(otherParts);</b>
<b class="nc">&nbsp;        body.add(&quot;file&quot;, fileEntity);</b>
<b class="nc">&nbsp;        return new HttpEntity&lt;&gt;(body, headers);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public void close() {
<b class="nc">&nbsp;        if (executor.isInitialized()) {</b>
<b class="nc">&nbsp;            getExecutor().shutdown();</b>
&nbsp;        }
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    @SneakyThrows</b>
&nbsp;    private ExecutorService getExecutor() {
<b class="nc">&nbsp;        return executor.get();</b>
&nbsp;    }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2026-02-07 20:03</div>
</div>
</body>
</html>
