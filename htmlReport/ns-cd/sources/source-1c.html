<!--

    Copyright © 2016-2026 The Thingsboard Authors

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->



<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > EventController</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.thingsboard.server.controller</a>
</div>

<h1>Coverage Summary for Class: EventController (org.thingsboard.server.controller)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">EventController</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/31)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/**
&nbsp; * Copyright © 2016-2026 The Thingsboard Authors
&nbsp; *
&nbsp; * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
&nbsp; * you may not use this file except in compliance with the License.
&nbsp; * You may obtain a copy of the License at
&nbsp; *
&nbsp; *     http://www.apache.org/licenses/LICENSE-2.0
&nbsp; *
&nbsp; * Unless required by applicable law or agreed to in writing, software
&nbsp; * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
&nbsp; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&nbsp; * See the License for the specific language governing permissions and
&nbsp; * limitations under the License.
&nbsp; */
&nbsp;package org.thingsboard.server.controller;
&nbsp;
&nbsp;import io.swagger.v3.oas.annotations.Parameter;
&nbsp;import io.swagger.v3.oas.annotations.media.Schema;
&nbsp;import org.springframework.beans.factory.annotation.Autowired;
&nbsp;import org.springframework.http.HttpStatus;
&nbsp;import org.springframework.security.access.prepost.PreAuthorize;
&nbsp;import org.springframework.web.bind.annotation.PathVariable;
&nbsp;import org.springframework.web.bind.annotation.RequestBody;
&nbsp;import org.springframework.web.bind.annotation.RequestMapping;
&nbsp;import org.springframework.web.bind.annotation.RequestMethod;
&nbsp;import org.springframework.web.bind.annotation.RequestParam;
&nbsp;import org.springframework.web.bind.annotation.ResponseBody;
&nbsp;import org.springframework.web.bind.annotation.ResponseStatus;
&nbsp;import org.springframework.web.bind.annotation.RestController;
&nbsp;import org.thingsboard.server.common.data.EventInfo;
&nbsp;import org.thingsboard.server.common.data.event.EventFilter;
&nbsp;import org.thingsboard.server.common.data.event.EventType;
&nbsp;import org.thingsboard.server.common.data.exception.ThingsboardErrorCode;
&nbsp;import org.thingsboard.server.common.data.exception.ThingsboardException;
&nbsp;import org.thingsboard.server.common.data.id.EntityId;
&nbsp;import org.thingsboard.server.common.data.id.EntityIdFactory;
&nbsp;import org.thingsboard.server.common.data.id.TenantId;
&nbsp;import org.thingsboard.server.common.data.page.PageData;
&nbsp;import org.thingsboard.server.common.data.page.TimePageLink;
&nbsp;import org.thingsboard.server.config.annotations.ApiOperation;
&nbsp;import org.thingsboard.server.dao.event.EventService;
&nbsp;import org.thingsboard.server.queue.util.TbCoreComponent;
&nbsp;import org.thingsboard.server.service.security.permission.Operation;
&nbsp;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.ENTITY_ID;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.ENTITY_ID_PARAM_DESCRIPTION;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.ENTITY_TYPE;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.ENTITY_TYPE_PARAM_DESCRIPTION;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.EVENT_DEBUG_CALCULATED_FIELD_FILTER_OBJ;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.EVENT_DEBUG_RULE_CHAIN_FILTER_OBJ;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.EVENT_DEBUG_RULE_NODE_FILTER_OBJ;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.EVENT_END_TIME_DESCRIPTION;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.EVENT_ERROR_FILTER_OBJ;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.EVENT_LC_EVENT_FILTER_OBJ;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.EVENT_START_TIME_DESCRIPTION;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.EVENT_STATS_FILTER_OBJ;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.EVENT_TEXT_SEARCH_DESCRIPTION;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.NEW_LINE;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.PAGE_DATA_PARAMETERS;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.PAGE_NUMBER_DESCRIPTION;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.PAGE_SIZE_DESCRIPTION;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.SORT_ORDER_DESCRIPTION;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.SORT_PROPERTY_DESCRIPTION;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.TENANT_ID;
&nbsp;import static org.thingsboard.server.controller.ControllerConstants.TENANT_ID_PARAM_DESCRIPTION;
&nbsp;
&nbsp;@RestController
&nbsp;@TbCoreComponent
&nbsp;@RequestMapping(&quot;/api&quot;)
<b class="nc">&nbsp;public class EventController extends BaseController {</b>
&nbsp;
&nbsp;    private static final String EVENT_FILTER_DEFINITION = &quot;# Event Filter Definition&quot; + NEW_LINE +
&nbsp;            &quot;6 different eventFilter objects could be set for different event types. &quot; +
&nbsp;            &quot;The eventType field is required. Others are optional. If some of them are set, the filtering will be applied according to them. &quot; +
&nbsp;            &quot;See the examples below for all the fields used for each event type filtering. &quot; + NEW_LINE +
&nbsp;            &quot;Note,&quot; + NEW_LINE +
&nbsp;            &quot; * &#39;server&#39; - string value representing the server name, identifier or ip address where the platform is running;\n&quot; +
&nbsp;            &quot; * &#39;errorStr&#39; - the case insensitive &#39;contains&#39; filter based on error message.&quot; + NEW_LINE +
&nbsp;            &quot;## Error Event Filter&quot; + NEW_LINE +
&nbsp;            EVENT_ERROR_FILTER_OBJ + NEW_LINE +
&nbsp;            &quot; * &#39;method&#39; - string value representing the method name when the error happened.&quot; + NEW_LINE +
&nbsp;            &quot;## Lifecycle Event Filter&quot; + NEW_LINE +
&nbsp;            EVENT_LC_EVENT_FILTER_OBJ + NEW_LINE +
&nbsp;            &quot; * &#39;event&#39; - string value representing the lifecycle event type;\n&quot; +
&nbsp;            &quot; * &#39;status&#39; - string value representing status of the lifecycle event.&quot; + NEW_LINE +
&nbsp;            &quot;## Statistics Event Filter&quot; + NEW_LINE +
&nbsp;            EVENT_STATS_FILTER_OBJ + NEW_LINE +
&nbsp;            &quot; * &#39;messagesProcessed&#39; - the minimum number of successfully processed messages;\n&quot; +
&nbsp;            &quot; * &#39;errorsOccurred&#39; - the minimum number of errors occurred during messages processing.&quot; + NEW_LINE +
&nbsp;            &quot;## Debug Rule Node Event Filter&quot; + NEW_LINE +
&nbsp;            EVENT_DEBUG_RULE_NODE_FILTER_OBJ + NEW_LINE +
&nbsp;            &quot;## Debug Rule Chain Event Filter&quot; + NEW_LINE +
&nbsp;            EVENT_DEBUG_RULE_CHAIN_FILTER_OBJ + NEW_LINE +
&nbsp;            &quot; * &#39;msgDirectionType&#39; - string value representing msg direction type (incoming to entity or outcoming from entity);\n&quot; +
&nbsp;            &quot; * &#39;dataSearch&#39; - the case insensitive &#39;contains&#39; filter based on data (key and value) for the message;\n&quot; +
&nbsp;            &quot; * &#39;metadataSearch&#39; - the case insensitive &#39;contains&#39; filter based on metadata (key and value) for the message;\n&quot; +
&nbsp;            &quot; * &#39;entityName&#39; - string value representing the entity type;\n&quot; +
&nbsp;            &quot; * &#39;relationType&#39; - string value representing the type of message routing;\n&quot; +
&nbsp;            &quot; * &#39;entityId&#39; - string value representing the entity id in the event body (originator of the message);\n&quot; +
&nbsp;            &quot; * &#39;msgType&#39; - string value representing the message type;\n&quot; +
&nbsp;            &quot; * &#39;isError&#39; - boolean value to filter the errors.&quot; + NEW_LINE +
&nbsp;            &quot;## Debug Calculated Field Event Filter&quot; + NEW_LINE +
&nbsp;            EVENT_DEBUG_CALCULATED_FIELD_FILTER_OBJ + NEW_LINE +
&nbsp;            &quot; * &#39;entityId&#39; - string value representing the entity id in the event body;\n&quot; +
&nbsp;            &quot; * &#39;entityType&#39; - string value representing the entity type;\n&quot; +
&nbsp;            &quot; * &#39;msgId&#39; - string value representing the message id in the rule engine;\n&quot; +
&nbsp;            &quot; * &#39;msgType&#39; - string value representing the message type;\n&quot; +
&nbsp;            &quot; * &#39;arguments&#39; - string value representing the arguments that were used in the calculation performed;\n&quot; +
&nbsp;            &quot; * &#39;result&#39; - string value representing the result of a calculation;\n&quot; +
&nbsp;            &quot; * &#39;isError&#39; - boolean value to filter the errors.&quot; + NEW_LINE;
&nbsp;
&nbsp;    @Autowired
&nbsp;    private EventService eventService;
&nbsp;
&nbsp;    @ApiOperation(value = &quot;Get Events by type (getEvents)&quot;,
&nbsp;            notes = &quot;Returns a page of events for specified entity by specifying event type. &quot; +
&nbsp;                    PAGE_DATA_PARAMETERS)
&nbsp;    @PreAuthorize(&quot;hasAnyAuthority(&#39;SYS_ADMIN&#39;, &#39;TENANT_ADMIN&#39;, &#39;CUSTOMER_USER&#39;)&quot;)
&nbsp;    @RequestMapping(value = &quot;/events/{entityType}/{entityId}/{eventType}&quot;, method = RequestMethod.GET)
&nbsp;    @ResponseBody
&nbsp;    public PageData&lt;EventInfo&gt; getEvents(
&nbsp;            @Parameter(description = ENTITY_TYPE_PARAM_DESCRIPTION, required = true)
&nbsp;            @PathVariable(ENTITY_TYPE) String strEntityType,
&nbsp;            @Parameter(description = ENTITY_ID_PARAM_DESCRIPTION, required = true)
&nbsp;            @PathVariable(ENTITY_ID) String strEntityId,
&nbsp;            @Parameter(description = &quot;A string value representing event type&quot;, example = &quot;STATS&quot;, required = true)
&nbsp;            @PathVariable(&quot;eventType&quot;) String eventType,
&nbsp;            @Parameter(description = TENANT_ID_PARAM_DESCRIPTION, required = true)
&nbsp;            @RequestParam(TENANT_ID) String strTenantId,
&nbsp;            @Parameter(description = PAGE_SIZE_DESCRIPTION, required = true)
&nbsp;            @RequestParam int pageSize,
&nbsp;            @Parameter(description = PAGE_NUMBER_DESCRIPTION, required = true)
&nbsp;            @RequestParam int page,
&nbsp;            @Parameter(description = EVENT_TEXT_SEARCH_DESCRIPTION)
&nbsp;            @RequestParam(required = false) String textSearch,
&nbsp;            @Parameter(description = SORT_PROPERTY_DESCRIPTION, schema = @Schema(allowableValues = {&quot;ts&quot;, &quot;id&quot;}))
&nbsp;            @RequestParam(required = false) String sortProperty,
&nbsp;            @Parameter(description = SORT_ORDER_DESCRIPTION, schema = @Schema(allowableValues = {&quot;ASC&quot;, &quot;DESC&quot;}))
&nbsp;            @RequestParam(required = false) String sortOrder,
&nbsp;            @Parameter(description = EVENT_START_TIME_DESCRIPTION)
&nbsp;            @RequestParam(required = false) Long startTime,
&nbsp;            @Parameter(description = EVENT_END_TIME_DESCRIPTION)
&nbsp;            @RequestParam(required = false) Long endTime) throws ThingsboardException {
<b class="nc">&nbsp;        checkParameter(&quot;EntityId&quot;, strEntityId);</b>
<b class="nc">&nbsp;        checkParameter(&quot;EntityType&quot;, strEntityType);</b>
<b class="nc">&nbsp;        TenantId tenantId = TenantId.fromUUID(toUUID(strTenantId));</b>
&nbsp;
<b class="nc">&nbsp;        EntityId entityId = EntityIdFactory.getByTypeAndId(strEntityType, strEntityId);</b>
<b class="nc">&nbsp;        checkEntityId(entityId, Operation.READ);</b>
<b class="nc">&nbsp;        TimePageLink pageLink = createTimePageLink(pageSize, page, textSearch, sortProperty, sortOrder, startTime, endTime);</b>
<b class="nc">&nbsp;        return checkNotNull(eventService.findEvents(tenantId, entityId, resolveEventType(eventType), pageLink));</b>
&nbsp;    }
&nbsp;
&nbsp;    @ApiOperation(value = &quot;Get Events (Deprecated)&quot;,
&nbsp;            notes = &quot;Returns a page of events for specified entity. Deprecated and will be removed in next minor release. &quot; +
&nbsp;                    &quot;The call was deprecated to improve the performance of the system. &quot; +
&nbsp;                    &quot;Current implementation will return &#39;Lifecycle&#39; events only. &quot; +
&nbsp;                    &quot;Use &#39;Get events by type&#39; or &#39;Get events by filter&#39; instead. &quot; +
&nbsp;                    PAGE_DATA_PARAMETERS)
&nbsp;    @PreAuthorize(&quot;hasAnyAuthority(&#39;SYS_ADMIN&#39;, &#39;TENANT_ADMIN&#39;, &#39;CUSTOMER_USER&#39;)&quot;)
&nbsp;    @RequestMapping(value = &quot;/events/{entityType}/{entityId}&quot;, method = RequestMethod.GET)
&nbsp;    @ResponseBody
&nbsp;    public PageData&lt;EventInfo&gt; getEvents(
&nbsp;            @Parameter(description = ENTITY_TYPE_PARAM_DESCRIPTION, required = true)
&nbsp;            @PathVariable(ENTITY_TYPE) String strEntityType,
&nbsp;            @Parameter(description = ENTITY_ID_PARAM_DESCRIPTION, required = true)
&nbsp;            @PathVariable(ENTITY_ID) String strEntityId,
&nbsp;            @Parameter(description = TENANT_ID_PARAM_DESCRIPTION, required = true)
&nbsp;            @RequestParam(&quot;tenantId&quot;) String strTenantId,
&nbsp;            @Parameter(description = PAGE_SIZE_DESCRIPTION, required = true)
&nbsp;            @RequestParam int pageSize,
&nbsp;            @Parameter(description = PAGE_NUMBER_DESCRIPTION, required = true)
&nbsp;            @RequestParam int page,
&nbsp;            @Parameter(description = EVENT_TEXT_SEARCH_DESCRIPTION)
&nbsp;            @RequestParam(required = false) String textSearch,
&nbsp;            @Parameter(description = SORT_PROPERTY_DESCRIPTION, schema = @Schema(allowableValues = {&quot;ts&quot;, &quot;id&quot;}))
&nbsp;            @RequestParam(required = false) String sortProperty,
&nbsp;            @Parameter(description = SORT_ORDER_DESCRIPTION, schema = @Schema(allowableValues = {&quot;ASC&quot;, &quot;DESC&quot;}))
&nbsp;            @RequestParam(required = false) String sortOrder,
&nbsp;            @Parameter(description = EVENT_START_TIME_DESCRIPTION)
&nbsp;            @RequestParam(required = false) Long startTime,
&nbsp;            @Parameter(description = EVENT_END_TIME_DESCRIPTION)
&nbsp;            @RequestParam(required = false) Long endTime) throws ThingsboardException {
<b class="nc">&nbsp;        checkParameter(&quot;EntityId&quot;, strEntityId);</b>
<b class="nc">&nbsp;        checkParameter(&quot;EntityType&quot;, strEntityType);</b>
<b class="nc">&nbsp;        TenantId tenantId = TenantId.fromUUID(toUUID(strTenantId));</b>
&nbsp;
<b class="nc">&nbsp;        EntityId entityId = EntityIdFactory.getByTypeAndId(strEntityType, strEntityId);</b>
<b class="nc">&nbsp;        checkEntityId(entityId, Operation.READ);</b>
&nbsp;
<b class="nc">&nbsp;        TimePageLink pageLink = createTimePageLink(pageSize, page, textSearch, sortProperty, sortOrder, startTime, endTime);</b>
&nbsp;
<b class="nc">&nbsp;        return checkNotNull(eventService.findEvents(tenantId, entityId, EventType.LC_EVENT, pageLink));</b>
&nbsp;    }
&nbsp;
&nbsp;    @ApiOperation(value = &quot;Get Events by event filter (getEvents)&quot;,
&nbsp;            notes = &quot;Returns a page of events for the chosen entity by specifying the event filter. &quot; +
&nbsp;                    PAGE_DATA_PARAMETERS + NEW_LINE +
&nbsp;                    EVENT_FILTER_DEFINITION)
&nbsp;    @PreAuthorize(&quot;hasAnyAuthority(&#39;SYS_ADMIN&#39;, &#39;TENANT_ADMIN&#39;, &#39;CUSTOMER_USER&#39;)&quot;)
&nbsp;    @RequestMapping(value = &quot;/events/{entityType}/{entityId}&quot;, method = RequestMethod.POST)
&nbsp;    @ResponseBody
&nbsp;    public PageData&lt;EventInfo&gt; getEvents(
&nbsp;            @Parameter(description = ENTITY_TYPE_PARAM_DESCRIPTION, required = true)
&nbsp;            @PathVariable(ENTITY_TYPE) String strEntityType,
&nbsp;            @Parameter(description = ENTITY_ID_PARAM_DESCRIPTION, required = true)
&nbsp;            @PathVariable(ENTITY_ID) String strEntityId,
&nbsp;            @Parameter(description = TENANT_ID_PARAM_DESCRIPTION, required = true)
&nbsp;            @RequestParam(TENANT_ID) String strTenantId,
&nbsp;            @Parameter(description = PAGE_SIZE_DESCRIPTION, required = true)
&nbsp;            @RequestParam int pageSize,
&nbsp;            @Parameter(description = PAGE_NUMBER_DESCRIPTION, required = true)
&nbsp;            @RequestParam int page,
&nbsp;            @Parameter(description = &quot;A JSON value representing the event filter.&quot;, required = true)
&nbsp;            @RequestBody EventFilter eventFilter,
&nbsp;            @Parameter(description = EVENT_TEXT_SEARCH_DESCRIPTION)
&nbsp;            @RequestParam(required = false) String textSearch,
&nbsp;            @Parameter(description = SORT_PROPERTY_DESCRIPTION, schema = @Schema(allowableValues = {&quot;ts&quot;, &quot;id&quot;}))
&nbsp;            @RequestParam(required = false) String sortProperty,
&nbsp;            @Parameter(description = SORT_ORDER_DESCRIPTION, schema = @Schema(allowableValues = {&quot;ASC&quot;, &quot;DESC&quot;}))
&nbsp;            @RequestParam(required = false) String sortOrder,
&nbsp;            @Parameter(description = EVENT_START_TIME_DESCRIPTION)
&nbsp;            @RequestParam(required = false) Long startTime,
&nbsp;            @Parameter(description = EVENT_END_TIME_DESCRIPTION)
&nbsp;            @RequestParam(required = false) Long endTime) throws ThingsboardException {
<b class="nc">&nbsp;        checkParameter(&quot;EntityId&quot;, strEntityId);</b>
<b class="nc">&nbsp;        checkParameter(&quot;EntityType&quot;, strEntityType);</b>
<b class="nc">&nbsp;        TenantId tenantId = TenantId.fromUUID(toUUID(strTenantId));</b>
&nbsp;
<b class="nc">&nbsp;        EntityId entityId = EntityIdFactory.getByTypeAndId(strEntityType, strEntityId);</b>
<b class="nc">&nbsp;        checkEntityId(entityId, Operation.READ);</b>
&nbsp;
<b class="nc">&nbsp;        TimePageLink pageLink = createTimePageLink(pageSize, page, textSearch, sortProperty, sortOrder, startTime, endTime);</b>
<b class="nc">&nbsp;        return checkNotNull(eventService.findEventsByFilter(tenantId, entityId, eventFilter, pageLink));</b>
&nbsp;    }
&nbsp;
&nbsp;    @ApiOperation(value = &quot;Clear Events (clearEvents)&quot;, notes = &quot;Clears events by filter for specified entity.&quot;)
&nbsp;    @PreAuthorize(&quot;hasAnyAuthority(&#39;SYS_ADMIN&#39;, &#39;TENANT_ADMIN&#39;, &#39;CUSTOMER_USER&#39;)&quot;)
&nbsp;    @RequestMapping(value = &quot;/events/{entityType}/{entityId}/clear&quot;, method = RequestMethod.POST)
&nbsp;    @ResponseStatus(HttpStatus.OK)
&nbsp;    public void clearEvents(@Parameter(description = ENTITY_TYPE_PARAM_DESCRIPTION, required = true)
&nbsp;                            @PathVariable(ENTITY_TYPE) String strEntityType,
&nbsp;                            @Parameter(description = ENTITY_ID_PARAM_DESCRIPTION, required = true)
&nbsp;                            @PathVariable(ENTITY_ID) String strEntityId,
&nbsp;                            @Parameter(description = EVENT_START_TIME_DESCRIPTION)
&nbsp;                            @RequestParam(required = false) Long startTime,
&nbsp;                            @Parameter(description = EVENT_END_TIME_DESCRIPTION)
&nbsp;                            @RequestParam(required = false) Long endTime,
&nbsp;                            @Parameter(description = EVENT_FILTER_DEFINITION)
&nbsp;                            @RequestBody EventFilter eventFilter) throws ThingsboardException {
<b class="nc">&nbsp;        checkParameter(&quot;EntityId&quot;, strEntityId);</b>
<b class="nc">&nbsp;        checkParameter(&quot;EntityType&quot;, strEntityType);</b>
<b class="nc">&nbsp;        EntityId entityId = EntityIdFactory.getByTypeAndId(strEntityType, strEntityId);</b>
<b class="nc">&nbsp;        checkEntityId(entityId, Operation.WRITE);</b>
&nbsp;
<b class="nc">&nbsp;        eventService.removeEvents(getTenantId(), entityId, eventFilter, startTime, endTime);</b>
&nbsp;    }
&nbsp;
&nbsp;    private static EventType resolveEventType(String eventType) throws ThingsboardException {
<b class="nc">&nbsp;        for (var et : EventType.values()) {</b>
<b class="nc">&nbsp;            if (et.name().equalsIgnoreCase(eventType) || et.getOldName().equalsIgnoreCase(eventType)) {</b>
<b class="nc">&nbsp;                return et;</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        throw new ThingsboardException(&quot;Event type: &#39;&quot; + eventType + &quot;&#39; is not supported!&quot;, ThingsboardErrorCode.BAD_REQUEST_PARAMS);</b>
&nbsp;    }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2026-02-07 20:03</div>
</div>
</body>
</html>
